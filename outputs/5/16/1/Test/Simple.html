<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="/public/img/favicon.ico">
    <title>Test::Simple - perldoc.perl.org</title>
    <link href="/public/css/main.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900' rel='stylesheet' type='text/css'>
  </head>
  <body class="body container-fluid ">
    <div class="wrapper">
        <nav class="navbar navbar-expand-md navbar-dark bg-primary bg-perl fixed-top justify-content-between">
          <a class="navbar-brand" href="/">
            <object class="logo" data="/public/img/logo_perl_doc.svg" type="image/svg+xml">Perl Documentation Logo</object>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div id="navbar" class="collapse navbar-collapse justify-content-end">
            <div class="nav navbar-nav navbar-right">
              <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" id="dropdown-menu-links" aria-labelledby="navbarDropdown">
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                  <a class="dropdown-item" href="/5/16/1/index-overview.html">Overview</a>
                  <a class="dropdown-item" href="/5/16/1/index-tutorials.html">Tutorials</a>
                  <a class="dropdown-item" href="/5/16/1/index-faq.html">FAQs</a>
                  <a class="dropdown-item" href="/5/16/1/index-history.html">History / Changes</a>
                  <a class="dropdown-item" href="/5/16/1/index-licence.html">License</a>
                  <a class="dropdown-item" href="/5/16/1/index-language.html">Language</a>
                  <a class="dropdown-item" href="/5/16/1/index-functions.html">Functions</a>
                  <a class="dropdown-item" href="/5/16/1/perlop.html">Operators</a>
                  <a class="dropdown-item" href="/5/16/1/perlvar.html">Special Variables</a>
                  <a class="dropdown-item" href="/5/16/1/index-pragmas.html">Pragmas</a>
                  <a class="dropdown-item" href="/5/16/1/index-utilities.html">Utilities</a>
                  <a class="dropdown-item" href="/5/16/1/index-internals.html">Internals</a>
                  <a class="dropdown-item" href="/5/16/1/index-platforms.html">Platform Specific</a>
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle " data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3" class="dropdown-menu letters-wrap">
                  <a class="dropdown-item" href="/5/16/1/index-functions.html">A-Z</a>
                  <a class="dropdown-item" href="/5/16/1/index-functions-by-cat.html">By Category</a>
                  <div class="dropdown-divider"></div>
                  <div class="letter-container">
                    <a class="dropdown-item letters" href="/5/16/1/index-modules-A.html">A</a>
                    <a class="dropdown-item letters" href="/5/16/1/index-modules-B.html">B</a>
                    <a class="dropdown-item letters" href="/5/16/1/index-modules-C.html">C</a>
                    <a class="dropdown-item letters" href="/5/16/1/index-modules-D.html">D</a>
                    <a class="dropdown-item letters" href="/5/16/1/index-modules-E.html">E</a>
                    <a class="dropdown-item letters" href="/5/16/1/index-modules-F.html">F</a>
                    <a class="dropdown-item letters" href="/5/16/1/index-modules-G.html">G</a>
                    <a class="dropdown-item letters" href="/5/16/1/index-modules-H.html">H</a>
                    <a class="dropdown-item letters" href="/5/16/1/index-modules-I.html">I</a>
                    <a class="dropdown-item letters" href="/5/16/1/index-modules-J.html">J</a>
                    <a class="dropdown-item letters" href="/5/16/1/index-modules-L.html">L</a>
                    <a class="dropdown-item letters" href="/5/16/1/index-modules-M.html">M</a>
                    <a class="dropdown-item letters" href="/5/16/1/index-modules-N.html">N</a>
                    <a class="dropdown-item letters" href="/5/16/1/index-modules-O.html">O</a>
                    <a class="dropdown-item letters" href="/5/16/1/index-modules-P.html">P</a>
                    <a class="dropdown-item letters" href="/5/16/1/index-modules-S.html">S</a>
                    <a class="dropdown-item letters" href="/5/16/1/index-modules-T.html">T</a>
                    <a class="dropdown-item letters" href="/5/16/1/index-modules-U.html">U</a>
                    <a class="dropdown-item letters" href="/5/16/1/index-modules-X.html">X</a>
                    </div>
                </div>
              </li>
            </div>
          </div>
          <!--/.nav-collapse -->
        </nav>
     
      <main class="row main-content pb-5 pt-5">
        <div class="col-sm-8 offset-sm-2">
          <div class="row">
            <div class="col-sm-12">
                <div id="breadcrumbs">
                    
    <a href="../index.html">Home</a> &gt;
    
      
        <a href="../index-modules-T.html">Core modules (T)</a> &gt;
      
    
    Test::Simple
  

                </div>
            </div>
          </div>
          <div class="row">
              <article class="col-sm-12 content">
                <div class="documentation-wrapper">
                  <div id="perl_version">
                    <p class='page-title'> Perl 5 version 16.1 documentation</p>
                  </div>
                  <h1>Test::Simple</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><li><a href="#EXAMPLE">EXAMPLE</a><li><a href="#CAVEATS">CAVEATS</a><li><a href="#NOTES">NOTES</a><li><a href="#HISTORY">HISTORY</a><li><a href="#SEE-ALSO">SEE ALSO</a><li><a href="#AUTHORS">AUTHORS</a><li><a href="#COPYRIGHT">COPYRIGHT</a></ul><a name="NAME"></a><h1>NAME</h1>
<p>Test::Simple - Basic utilities for writing tests.</p>
<a name="SYNOPSIS"></a><h1>SYNOPSIS</h1>
<pre class="verbatim"><ol><li>  <a class="l_k" href="../functions/use.html">use</a> <span class="w">Test::Simple</span> <span class="w">tests</span> <span class="cm">=&gt;</span> <span class="n">1</span><span class="sc">;</span></li><li></li><li>  <span class="i">ok</span><span class="s">(</span> <span class="i">$foo</span> <a class="l_k" href="../functions/eq.html">eq</a> <span class="i">$bar</span><span class="cm">,</span> <span class="q">&#39;foo is bar&#39;</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><a name="DESCRIPTION"></a><h1>DESCRIPTION</h1>
<p>** If you are unfamiliar with testing <b>read Test::Tutorial</b> first! **</p>
<p>This is an extremely simple, extremely basic module for writing tests
suitable for CPAN modules and other pursuits.  If you wish to do more
complicated testing, use the Test::More module (a drop-in replacement
for this one).</p>
<p>The basic unit of Perl testing is the ok.  For each thing you want to
test your program will print out an "ok" or "not ok" to indicate pass
or fail.  You do this with the ok() function (see below).</p>
<p>The only other constraint is you must pre-declare how many tests you
plan to run.  This is in case something goes horribly wrong during the
test and your test program aborts, or skips a test or whatever.  You
do this like so:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/use.html">use</a> <span class="w">Test::Simple</span> <span class="w">tests</span> <span class="cm">=&gt;</span> <span class="n">23</span><span class="sc">;</span></li></ol></pre><p>You must have a plan.</p>
<ul>
<li><a name="*ok*"></a><b><b>ok</b></b>
<pre class="verbatim"><ol><li>  <span class="i">ok</span><span class="s">(</span> <span class="i">$foo</span> <a class="l_k" href="../functions/eq.html">eq</a> <span class="i">$bar</span><span class="cm">,</span> <span class="i">$name</span> <span class="s">)</span><span class="sc">;</span></li><li>  <span class="i">ok</span><span class="s">(</span> <span class="i">$foo</span> <a class="l_k" href="../functions/eq.html">eq</a> <span class="i">$bar</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>ok() is given an expression (in this case <code class="inline"><span class="i">$foo</span> <a class="l_k" href="../functions/eq.html">eq</a> <span class="i">$bar</span></code>
).  If it's
true, the test passed.  If it's false, it didn't.  That's about it.</p>
<p>ok() prints out either "ok" or "not ok" along with a test number (it
keeps track of that for you).</p>
<pre class="verbatim"><ol><li>  <span class="c"># This produces &quot;ok 1 - Hell not yet frozen over&quot; (or not ok)</span></li><li>  <span class="i">ok</span><span class="s">(</span> <span class="i">get_temperature</span><span class="s">(</span><span class="i">$hell</span><span class="s">)</span> &gt; <span class="n">0</span><span class="cm">,</span> <span class="q">&#39;Hell not yet frozen over&#39;</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>If you provide a $name, that will be printed along with the "ok/not
ok" to make it easier to find your test when if fails (just search for
the name).  It also makes it easier for the next guy to understand
what your test is for.  It's highly recommended you use test names.</p>
<p>All tests are run in scalar context.  So this:</p>
<pre class="verbatim"><ol><li>    <span class="i">ok</span><span class="s">(</span> <span class="i">@stuff</span><span class="cm">,</span> <span class="q">&#39;I have some stuff&#39;</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>will do what you mean (fail if stuff is empty)</p>
</li>
</ul>
<p>Test::Simple will start by printing number of tests run in the form
"1..M" (so "1..5" means you're going to run 5 tests).  This strange
format lets Test::Harness know how many tests you plan on running in
case something goes horribly wrong.</p>
<p>If all your tests passed, Test::Simple will exit with zero (which is
normal).  If anything failed it will exit with how many failed.  If
you run less (or more) tests than you planned, the missing (or extras)
will be considered failures.  If no tests were ever run Test::Simple
will throw a warning and exit with 255.  If the test died, even after
having successfully completed all its tests, it will still be
considered a failure and will exit with 255.</p>
<p>So the exit codes are...</p>
<pre class="verbatim"><ol><li>    <span class="n">0</span>                   <span class="w">all</span> <span class="w">tests</span> <span class="w">successful</span></li><li>    <span class="n">255</span>                 <span class="w">test</span> <span class="w">died</span> <a class="l_k" href="../functions/or.html">or</a> <span class="w">all</span> <span class="w">passed</span> <span class="w">but</span> <span class="w">wrong</span> <span class="c"># of tests run</span></li><li>    <span class="w">any</span> <span class="w">other</span> <span class="w">number</span>    <span class="w">how</span> <span class="w">many</span> <span class="w">failed</span> <span class="s">(</span><span class="w">including</span> <span class="w">missing</span> <a class="l_k" href="../functions/or.html">or</a> <span class="w">extras</span><span class="s">)</span></li></ol></pre><p>If you fail more than 254 tests, it will be reported as 254.</p>
<p>This module is by no means trying to be a complete testing system.
It's just to get you started.  Once you're off the ground its
recommended you look at <a href="../Test/More.html">Test::More</a>.</p>
<a name="EXAMPLE"></a><h1>EXAMPLE</h1>
<p>Here's an example of a simple .t file for the fictional Film module.</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/use.html">use</a> <span class="w">Test::Simple</span> <span class="w">tests</span> <span class="cm">=&gt;</span> <span class="n">5</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="../functions/use.html">use</a> <span class="w">Film</span><span class="sc">;</span>  <span class="c"># What you&#39;re testing.</span></li><li></li><li>    <a class="l_k" href="../functions/my.html">my</a> <span class="i">$btaste</span> = <span class="w">Film</span><span class="w">-&gt;new</span><span class="s">(</span><span class="s">{</span> <span class="w">Title</span>    <span class="cm">=&gt;</span> <span class="q">&#39;Bad Taste&#39;</span><span class="cm">,</span></li><li>                             <span class="w">Director</span> <span class="cm">=&gt;</span> <span class="q">&#39;Peter Jackson&#39;</span><span class="cm">,</span></li><li>                             <span class="w">Rating</span>   <span class="cm">=&gt;</span> <span class="q">&#39;R&#39;</span><span class="cm">,</span></li><li>                             <span class="w">NumExplodingSheep</span> <span class="cm">=&gt;</span> <span class="n">1</span></li><li>                           <span class="s">}</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="i">ok</span><span class="s">(</span> <a class="l_k" href="../functions/defined.html">defined</a><span class="s">(</span><span class="i">$btaste</span><span class="s">)</span> &amp;&amp; <a class="l_k" href="../functions/ref.html">ref</a> <span class="i">$btaste</span> <a class="l_k" href="../functions/eq.html">eq</a> <span class="q">&#39;Film&#39;</span><span class="cm">,</span>     <span class="q">&#39;new() works&#39;</span> <span class="s">)</span><span class="sc">;</span></li><li></li><li>    <span class="i">ok</span><span class="s">(</span> <span class="i">$btaste</span><span class="i">-&gt;Title</span>      <a class="l_k" href="../functions/eq.html">eq</a> <span class="q">&#39;Bad Taste&#39;</span><span class="cm">,</span>     <span class="q">&#39;Title() get&#39;</span>    <span class="s">)</span><span class="sc">;</span></li><li>    <span class="i">ok</span><span class="s">(</span> <span class="i">$btaste</span><span class="i">-&gt;Director</span>   <a class="l_k" href="../functions/eq.html">eq</a> <span class="q">&#39;Peter Jackson&#39;</span><span class="cm">,</span> <span class="q">&#39;Director() get&#39;</span> <span class="s">)</span><span class="sc">;</span></li><li>    <span class="i">ok</span><span class="s">(</span> <span class="i">$btaste</span><span class="i">-&gt;Rating</span>     <a class="l_k" href="../functions/eq.html">eq</a> <span class="q">&#39;R&#39;</span><span class="cm">,</span>             <span class="q">&#39;Rating() get&#39;</span>   <span class="s">)</span><span class="sc">;</span></li><li>    <span class="i">ok</span><span class="s">(</span> <span class="i">$btaste</span><span class="i">-&gt;NumExplodingSheep</span> == <span class="n">1</span><span class="cm">,</span>        <span class="q">&#39;NumExplodingSheep() get&#39;</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>It will produce output like this:</p>
<pre class="verbatim"><ol><li>    <span class="n">1</span>..<span class="n">5</span></li><li>    <span class="w">ok</span> <span class="n">1</span> - <span class="i">new</span><span class="s">(</span><span class="s">)</span> <span class="w">works</span></li><li>    <span class="w">ok</span> <span class="n">2</span> - <span class="i">Title</span><span class="s">(</span><span class="s">)</span> <span class="w">get</span></li><li>    <span class="w">ok</span> <span class="n">3</span> - <span class="i">Director</span><span class="s">(</span><span class="s">)</span> <span class="w">get</span></li><li>    <a class="l_k" href="../functions/not.html">not</a> <span class="w">ok</span> <span class="n">4</span> - <span class="i">Rating</span><span class="s">(</span><span class="s">)</span> <span class="w">get</span></li><li>    <span class="c">#   Failed test &#39;Rating() get&#39;</span></li><li>    <span class="c">#   in t/film.t at line 14.</span></li><li>    <span class="w">ok</span> <span class="n">5</span> - <span class="i">NumExplodingSheep</span><span class="s">(</span><span class="s">)</span> <span class="w">get</span></li><li>    <span class="c"># Looks like you failed 1 tests of 5</span></li></ol></pre><p>Indicating the Film::Rating() method is broken.</p>
<a name="CAVEATS"></a><h1>CAVEATS</h1>
<p>Test::Simple will only report a maximum of 254 failures in its exit
code.  If this is a problem, you probably have a huge test script.
Split it into multiple files.  (Otherwise blame the Unix folks for
using an unsigned short integer as the exit status).</p>
<p>Because VMS's exit codes are much, much different than the rest of the
universe, and perl does horrible mangling to them that gets in my way,
it works like this on VMS.</p>
<pre class="verbatim"><ol><li>    <span class="n">0</span>     <span class="w">SS</span><span class="i">$_NORMAL</span>        <span class="w">all</span> <span class="w">tests</span> <span class="w">successful</span></li><li>    <span class="n">4</span>     <span class="w">SS</span><span class="i">$_ABORT</span>         <span class="w">something</span> <span class="w">went</span> <span class="w">wrong</span></li></ol></pre><p>Unfortunately, I can't differentiate any further.</p>
<a name="NOTES"></a><h1>NOTES</h1>
<p>Test::Simple is <b>explicitly</b> tested all the way back to perl 5.6.0.</p>
<p>Test::Simple is thread-safe in perl 5.8.1 and up.</p>
<a name="HISTORY"></a><h1>HISTORY</h1>
<p>This module was conceived while talking with Tony Bowden in his
kitchen one night about the problems I was having writing some really
complicated feature into the new Testing module.  He observed that the
main problem is not dealing with these edge cases but that people hate
to write tests <b>at all</b>.  What was needed was a dead simple module
that took all the hard work out of testing and was really, really easy
to learn.  Paul Johnson simultaneously had this idea (unfortunately,
he wasn't in Tony's kitchen).  This is it.</p>
<a name="SEE-ALSO"></a><h1>SEE ALSO</h1>
<ul>
<li><a name="the-Test%3a%3aMore-manpage"></a><b><a href="../Test/More.html">Test::More</a></b>
<p>More testing functions!  Once you outgrow Test::Simple, look at
Test::More.  Test::Simple is 100% forward compatible with Test::More
(i.e. you can just use Test::More instead of Test::Simple in your
programs and things will still work).</p>
</li>
</ul>
<p>Look in Test::More's SEE ALSO for more testing modules.</p>
<a name="AUTHORS"></a><h1>AUTHORS</h1>
<p>Idea by Tony Bowden and Paul Johnson, code by Michael G Schwern
&lt;schwern@pobox.com&gt;, wardrobe by Calvin Klein.</p>
<a name="COPYRIGHT"></a><h1>COPYRIGHT</h1>
<p>Copyright 2001-2008 by Michael G Schwern &lt;schwern@pobox.com&gt;.</p>
<p>This program is free software; you can redistribute it and/or 
modify it under the same terms as Perl itself.</p>
<p>See <i><a href="http://www.perl.com/perl/misc/Artistic.html">http://www.perl.com/perl/misc/Artistic.html</a></i></p>




  <div id="page_index" class="hud_container">
    <div id="page_index_header" class="hud_header">
      <div id="page_index_close" class="hud_close"><a href="#" onClick="pageIndex.hide();return false;"></a></div>
      <div id="page_index_title" class="hud_title"><span class="hud_span_top">Page index</span></div>
      <div id="page_index_topright" class="hud_topright"></div>
    </div>
    <div id="page_index_content" class="hud_content">
      <ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><li><a href="#EXAMPLE">EXAMPLE</a><li><a href="#CAVEATS">CAVEATS</a><li><a href="#NOTES">NOTES</a><li><a href="#HISTORY">HISTORY</a><li><a href="#SEE-ALSO">SEE ALSO</a><li><a href="#AUTHORS">AUTHORS</a><li><a href="#COPYRIGHT">COPYRIGHT</a></ul>
    </div>
    <div id="page_index_footer" class="hud_footer">
      <div id="page_index_bottomleft" class="hud_bottomleft"></div>
      <div id="page_index_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
      <div id="page_index_resize" class="hud_resize"></div>
    </div>
  </div>


                </div>
              </article>
        </div>        
      </main>
    </div>
    <footer class="footer row bg-light pt-5 pb-5">
      <div class="col-sm-8 offset-sm-2">
        <div class="row">
          <div class="col-md-4">
            <ul class="list-unstyled">
              <li>
                <h4>Site info</h4>
              </li>
              <li>Site mantained by
                <a href="mailto:community@opusvl.com"><img class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo"></a>
              </li>
              <li>Docs mantained by
                <a href="//lists.cpan.org/showlist.cgi?name=perl5-porters" rel="noopener">Perl 5 Porters</a>
              </li>
              <li>Development supported by
                <a href="//opusvl.com" rel="noopener">OpusVL</a>
              </li>
            </ul>
          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Manual</h4>
                  </li>
                  <li>
                    <a href="/5/16/1/index-overview.html">Overview</a>
                  </li>
                  <li>
                    <a href="/5/16/1/index-tutorials.html">Tutorials</a>
                  </li>
                  <li>
                    <a href="/5/16/1/index-faq.html">FAQs</a>
                  </li>
                  <li>
                    <a href="/5/16/1/index-history.html">Changes</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Reference</h4>
                  </li>
                  <li>
                    <a href="/5/16/1/index-language.html">Language</a>
                  </li>
                  <li>
                    <a href="/5/16/1/index-functions.html">Functions</a>
                  </li>
                  <li>
                    <a href="/5/16/1/perlop.html">Operators</a>
                  </li>
                  <li>
                    <a href="/5/16/1/perlvar.html">Variables</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Modules</h4>
                  </li>
                  <li>
                    <a href="/5/16/1/index-modules-A.html">Modules</a>
                  </li>
                  <li>
                    <a href="/5/16/1/index-pragmas.html">Pragmas</a>
                  </li>
                  <li>
                    <a href="/5/16/1/index-utilities.html">Utilities</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Misc</h4>
                  </li>
                  <li>
                    <a href="/5/16/1/index-licence.html">License</a>
                  </li>
                  <li>
                    <a href="/5/16/1/index-internals.html">Internals</a>
                  </li>
                  <li>
                    <a href="/5/16/1/index-platforms.html">Platforms</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class=" col-12 footer-inf text-center">
            <small>perldoc.perl.org - Official documentation for the Perl programming language</small>
          </div>
        </div>
      </div>
    </footer>
    <script src="/public/js/main.min.js"></script>
  </body>
</html>
