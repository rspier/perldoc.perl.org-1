<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="/public/img/favicon.ico">
    <title>perlsolaris - perldoc.perl.org</title>
    <link href="/public/css/main.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900' rel='stylesheet' type='text/css'>
  </head>
  <body class="body container-fluid ">
    <div class="wrapper">
        <nav class="navbar navbar-expand-md navbar-dark bg-primary bg-perl fixed-top justify-content-between">
          <a class="navbar-brand" href="/">
            <object class="logo" data="/public/img/logo_perl_doc.svg" type="image/svg+xml">Perl Documentation Logo</object>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div id="navbar" class="collapse navbar-collapse justify-content-end">
            <div class="nav navbar-nav navbar-right">
              <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" id="dropdown-menu-links" aria-labelledby="navbarDropdown">
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                  <a class="dropdown-item" href="/5/18/3/index-overview.html">Overview</a>
                  <a class="dropdown-item" href="/5/18/3/index-tutorials.html">Tutorials</a>
                  <a class="dropdown-item" href="/5/18/3/index-faq.html">FAQs</a>
                  <a class="dropdown-item" href="/5/18/3/index-history.html">History / Changes</a>
                  <a class="dropdown-item" href="/5/18/3/index-licence.html">License</a>
                  <a class="dropdown-item" href="/5/18/3/index-language.html">Language</a>
                  <a class="dropdown-item" href="/5/18/3/index-functions.html">Functions</a>
                  <a class="dropdown-item" href="/5/18/3/perlop.html">Operators</a>
                  <a class="dropdown-item" href="/5/18/3/perlvar.html">Special Variables</a>
                  <a class="dropdown-item" href="/5/18/3/index-pragmas.html">Pragmas</a>
                  <a class="dropdown-item" href="/5/18/3/index-utilities.html">Utilities</a>
                  <a class="dropdown-item" href="/5/18/3/index-internals.html">Internals</a>
                  <a class="dropdown-item" href="/5/18/3/index-platforms.html">Platform Specific</a>
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle " data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3" class="dropdown-menu letters-wrap">
                  <a class="dropdown-item" href="/5/18/3/index-functions.html">A-Z</a>
                  <a class="dropdown-item" href="/5/18/3/index-functions-by-cat.html">By Category</a>
                  <div class="dropdown-divider"></div>
                  <div class="letter-container">
                    <a class="dropdown-item letters" href="/5/18/3/index-modules-A.html">A</a>
                    <a class="dropdown-item letters" href="/5/18/3/index-modules-B.html">B</a>
                    <a class="dropdown-item letters" href="/5/18/3/index-modules-C.html">C</a>
                    <a class="dropdown-item letters" href="/5/18/3/index-modules-D.html">D</a>
                    <a class="dropdown-item letters" href="/5/18/3/index-modules-E.html">E</a>
                    <a class="dropdown-item letters" href="/5/18/3/index-modules-F.html">F</a>
                    <a class="dropdown-item letters" href="/5/18/3/index-modules-G.html">G</a>
                    <a class="dropdown-item letters" href="/5/18/3/index-modules-H.html">H</a>
                    <a class="dropdown-item letters" href="/5/18/3/index-modules-I.html">I</a>
                    <a class="dropdown-item letters" href="/5/18/3/index-modules-J.html">J</a>
                    <a class="dropdown-item letters" href="/5/18/3/index-modules-L.html">L</a>
                    <a class="dropdown-item letters" href="/5/18/3/index-modules-M.html">M</a>
                    <a class="dropdown-item letters" href="/5/18/3/index-modules-N.html">N</a>
                    <a class="dropdown-item letters" href="/5/18/3/index-modules-O.html">O</a>
                    <a class="dropdown-item letters" href="/5/18/3/index-modules-P.html">P</a>
                    <a class="dropdown-item letters" href="/5/18/3/index-modules-S.html">S</a>
                    <a class="dropdown-item letters" href="/5/18/3/index-modules-T.html">T</a>
                    <a class="dropdown-item letters" href="/5/18/3/index-modules-U.html">U</a>
                    <a class="dropdown-item letters" href="/5/18/3/index-modules-X.html">X</a>
                    </div>
                </div>
              </li>
            </div>
          </div>
          <!--/.nav-collapse -->
        </nav>
     
      <main class="row main-content pb-5 pt-5">
        <div class="col-sm-8 offset-sm-2">
          <div class="row">
            <div class="col-sm-12">
                <div id="breadcrumbs">
                    
    <a href="index.html">Home</a> &gt;
    
      
        <a href="index-platforms.html">Platform specific</a> &gt;
      
    
    perlsolaris
  

                </div>
            </div>
          </div>
          <div class="row">
              <article class="col-sm-12 content">
                <div class="documentation-wrapper">
                  <div id="perl_version">
                    <p class='page-title'> Perl 5 version 18.3 documentation</p>
                  </div>
                  <h1>perlsolaris</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a><li><a href="#DESCRIPTION">DESCRIPTION</a><ul><li><a href="#Solaris-Version-Numbers.">Solaris Version Numbers.</a></ul><li><a href="#RESOURCES">RESOURCES</a><li><a href="#SETTING-UP">SETTING UP</a><ul><li><a href="#File-Extraction-Problems-on-Solaris.">File Extraction Problems on Solaris.</a><li><a href="#Compiler-and-Related-Tools-on-Solaris.">Compiler and Related Tools on Solaris.</a><li><a href="#Environment-for-Compiling-perl-on-Solaris">Environment for Compiling perl on Solaris</a></ul><li><a href="#RUN-CONFIGURE.">RUN CONFIGURE.</a><ul><li><a href="#64-bit-perl-on-Solaris.">64-bit perl on Solaris.</a><li><a href="#Threads-in-perl-on-Solaris.">Threads in perl on Solaris.</a><li><a href="#Malloc-Issues-with-perl-on-Solaris.">Malloc Issues with perl on Solaris.</a></ul><li><a href="#MAKE-PROBLEMS.">MAKE PROBLEMS.</a><li><a href="#MAKE-TEST">MAKE TEST</a><ul><li><a href="#op%2fstat.t-test-4-in-Solaris">op/stat.t test 4 in Solaris</a><li><a href="#nss_delete-core-dump-from-op%2fpwent-or-op%2fgrent">nss_delete core dump from op/pwent or op/grent</a></ul><li><a href="#PREBUILT-BINARIES-OF-PERL-FOR-SOLARIS.">PREBUILT BINARIES OF PERL FOR SOLARIS.</a><li><a href="#RUNTIME-ISSUES-FOR-PERL-ON-SOLARIS.">RUNTIME ISSUES FOR PERL ON SOLARIS.</a><ul><li><a href="#Limits-on-Numbers-of-Open-Files-on-Solaris.">Limits on Numbers of Open Files on Solaris.</a></ul><li><a href="#SOLARIS-SPECIFIC-MODULES.">SOLARIS-SPECIFIC MODULES.</a><li><a href="#SOLARIS-SPECIFIC-PROBLEMS-WITH-MODULES.">SOLARIS-SPECIFIC PROBLEMS WITH MODULES.</a><ul><li><a href="#Proc%3a%3aProcessTable-on-Solaris">Proc::ProcessTable on Solaris</a><li><a href="#BSD%3a%3aResource-on-Solaris">BSD::Resource on Solaris</a><li><a href="#Net%3a%3aSSLeay-on-Solaris">Net::SSLeay on Solaris</a></ul><li><a href="#SunOS-4.x">SunOS 4.x</a><li><a href="#AUTHOR">AUTHOR</a></ul><a name="NAME"></a><h1>NAME</h1>
<p>perlsolaris - Perl version 5 on Solaris systems</p>
<a name="DESCRIPTION"></a><h1>DESCRIPTION</h1>
<p>This document describes various features of Sun's Solaris operating system
that will affect how Perl version 5 (hereafter just perl) is
compiled and/or runs.  Some issues relating to the older SunOS 4.x are
also discussed, though they may be out of date.</p>
<p>For the most part, everything should just work.</p>
<p>Starting with Solaris 8, perl5.00503 (or higher) is supplied with the
operating system, so you might not even need to build a newer version
of perl at all.  The Sun-supplied version is installed in /usr/perl5
with <i>/usr/bin/perl</i> pointing to <i>/usr/perl5/bin/perl</i>.  Do not disturb
that installation unless you really know what you are doing.  If you
remove the perl supplied with the OS, you will render some bits of
your system inoperable.  If you wish to install a newer version of perl,
install it under a different prefix from /usr/perl5.  Common prefixes
to use are /usr/local and /opt/perl.</p>
<p>You may wish to put your version of perl in the PATH of all users by
changing the link <i>/usr/bin/perl</i>.  This is probably OK, as most perl
scripts shipped with Solaris use an explicit path.  (There are a few
exceptions, such as <i>/usr/bin/rpm2cpio</i> and <i>/etc/rcm/scripts/README</i>, but
these are also sufficiently generic that the actual version of perl
probably doesn't matter too much.)</p>
<p>Solaris ships with a range of Solaris-specific modules.  If you choose
to install your own version of perl you will find the source of many of
these modules is available on CPAN under the Sun::Solaris:: namespace.</p>
<p>Solaris may include two versions of perl, e.g. Solaris 9 includes
both 5.005_03 and 5.6.1.  This is to provide stability across Solaris
releases, in cases where a later perl version has incompatibilities
with the version included in the preceding Solaris release.  The
default perl version will always be the most recent, and in general
the old version will only be retained for one Solaris release.  Note
also that the default perl will NOT be configured to search for modules
in the older version, again due to compatibility/stability concerns.
As a consequence if you upgrade Solaris, you will have to
rebuild/reinstall any additional CPAN modules that you installed for
the previous Solaris version.  See the CPAN manpage under 'autobundle'
for a quick way of doing this.</p>
<p>As an interim measure, you may either change the #! line of your
scripts to specifically refer to the old perl version, e.g. on
Solaris 9 use #!/usr/perl5/5.00503/bin/perl to use the perl version
that was the default for Solaris 8, or if you have a large number of
scripts it may be more convenient to make the old version of perl the
default on your system.  You can do this by changing the appropriate
symlinks under /usr/perl5 as follows (example for Solaris 9):</p>
<pre class="verbatim"><ol><li> <span class="c"># cd /usr/perl5</span></li><li> <span class="c"># rm bin man pod</span></li><li> <span class="c"># ln -s ./5.00503/bin</span></li><li> <span class="c"># ln -s ./5.00503/man</span></li><li> <span class="c"># ln -s ./5.00503/lib/pod</span></li><li> <span class="c"># rm /usr/bin/perl</span></li><li> <span class="c"># ln -s ../perl5/5.00503/bin/perl /usr/bin/perl</span></li></ol></pre><p>In both cases this should only be considered to be a temporary
measure - you should upgrade to the later version of perl as soon as
is practicable.</p>
<p>Note also that the perl command-line utilities (e.g. perldoc) and any
that are added by modules that you install will be under
/usr/perl5/bin, so that directory should be added to your PATH.</p>
<a name="Solaris-Version-Numbers."></a><h2>Solaris Version Numbers.</h2>
<p>For consistency with common usage, perl's Configure script performs
some minor manipulations on the operating system name and version
number as reported by uname.  Here's a partial translation table:</p>
<pre class="verbatim"><ol><li>          <span class="j">Sun:</span>                      <span class="w">perl&#39;s</span> <span class="w">Configure</span><span class="co">:</span></li><li> <span class="w">uname</span>    <span class="w">uname</span> -r   <span class="w">Name</span>           <span class="w">osname</span>     <span class="w">osvers</span></li><li> <span class="w">SunOS</span>    <span class="v">4.1.3</span>     <span class="w">Solaris</span> <span class="n">1.1</span>     <span class="w">sunos</span>      <span class="v">4.1.3</span></li><li> <span class="w">SunOS</span>    <span class="n">5.6</span>       <span class="w">Solaris</span> <span class="n">2.6</span>     <span class="w">solaris</span>    <span class="n">2.6</span></li><li> <span class="w">SunOS</span>    <span class="n">5.8</span>       <span class="w">Solaris</span> <span class="n">8</span>       <span class="w">solaris</span>    <span class="n">2.8</span></li><li> <span class="w">SunOS</span>    <span class="n">5.9</span>       <span class="w">Solaris</span> <span class="n">9</span>       <span class="w">solaris</span>    <span class="n">2.9</span></li><li> <span class="w">SunOS</span>    <span class="n">5.10</span>      <span class="w">Solaris</span> <span class="n">10</span>      <span class="w">solaris</span>    <span class="n">2.10</span></li></ol></pre><p>The complete table can be found in the Sun Managers' FAQ
<a href="ftp://ftp.cs.toronto.edu/pub/jdd/sunmanagers/faq">ftp://ftp.cs.toronto.edu/pub/jdd/sunmanagers/faq</a> under
"9.1) Which Sun models run which versions of SunOS?".</p>
<a name="RESOURCES"></a><h1>RESOURCES</h1>
<p>There are many, many sources for Solaris information.  A few of the
important ones for perl:</p>
<ul>
<li><a name="Solaris-FAQ"></a><b>Solaris FAQ</b>
<p>The Solaris FAQ is available at
<a href="http://www.science.uva.nl/pub/solaris/solaris2.html">http://www.science.uva.nl/pub/solaris/solaris2.html</a>.</p>
<p>The Sun Managers' FAQ is available at
<a href="ftp://ftp.cs.toronto.edu/pub/jdd/sunmanagers/faq">ftp://ftp.cs.toronto.edu/pub/jdd/sunmanagers/faq</a></p>
</li>
<li><a name="Precompiled-Binaries"></a><b>Precompiled Binaries</b>
<p>Precompiled binaries, links to many sites, and much, much more are
available at <a href="http://www.sunfreeware.com/">http://www.sunfreeware.com/</a> and
<a href="http://www.blastwave.org/">http://www.blastwave.org/</a>.</p>
</li>
<li><a name="Solaris-Documentation"></a><b>Solaris Documentation</b>
<p>All Solaris documentation is available on-line at <a href="http://docs.sun.com/">http://docs.sun.com/</a>.</p>
</li>
</ul>
<a name="SETTING-UP"></a><h1>SETTING UP</h1>
<a name="File-Extraction-Problems-on-Solaris."></a><h2>File Extraction Problems on Solaris.</h2>
<p>Be sure to use a tar program compiled under Solaris (not SunOS 4.x)
to extract the perl-5.x.x.tar.gz file.  Do not use GNU tar compiled
for SunOS4 on Solaris.  (GNU tar compiled for Solaris should be fine.)
When you run SunOS4 binaries on Solaris, the run-time system magically
alters pathnames matching m#lib/locale# so that when tar tries to create
lib/locale.pm, a file named lib/oldlocale.pm gets created instead.
If you found this advice too late and used a SunOS4-compiled tar
anyway, you must find the incorrectly renamed file and move it back
to lib/locale.pm.</p>
<a name="Compiler-and-Related-Tools-on-Solaris."></a><h2>Compiler and Related Tools on Solaris.</h2>
<p>You must use an ANSI C compiler to build perl.  Perl can be compiled
with either Sun's add-on C compiler or with gcc.  The C compiler that
shipped with SunOS4 will not do.</p>
<a name="Include-%2fusr%2fccs%2fbin%2f-in-your-PATH."></a><h3>Include /usr/ccs/bin/ in your PATH.</h3>
<p>Several tools needed to build perl are located in /usr/ccs/bin/:  ar,
as, ld, and make.  Make sure that /usr/ccs/bin/ is in your PATH.</p>
<p>On all the released versions of Solaris (8, 9 and 10) you need to make sure the following packages are installed (this info is extracted from the Solaris FAQ):</p>
<p>for tools (sccs, lex, yacc, make, nm, truss, ld, as): SUNWbtool,
SUNWsprot, SUNWtoo</p>
<p>for libraries &amp; headers: SUNWhea, SUNWarc, SUNWlibm, SUNWlibms, SUNWdfbh,
SUNWcg6h, SUNWxwinc</p>
<p>Additionaly, on Solaris 8 and 9 you also need:</p>
<p>for 64 bit development: SUNWarcx, SUNWbtoox, SUNWdplx, SUNWscpux,
SUNWsprox, SUNWtoox, SUNWlmsx, SUNWlmx, SUNWlibCx</p>
<p>And only on Solaris 8 you also need:</p>
<p>for libraries &amp; headers: SUNWolinc</p>
<p>If you are in doubt which package contains a file you are missing,
try to find an installation that has that file. Then do a</p>
<pre class="verbatim"><ol><li> <span class="i">$ grep</span> /<a class="l_k" href="functions/my.html">my</a><span class="q">/missing/</span><span class="w">file</span> /<span class="w">var</span>/<span class="w">sadm</span><span class="q">/install/contents</span></li></ol></pre><p>This will display a line like this:</p>
<p>/usr/include/sys/errno.h f none 0644 root bin 7471 37605 956241356 SUNWhea</p>
<p>The last item listed (SUNWhea in this example) is the package you need.</p>
<a name="Avoid-%2fusr%2fucb%2fcc."></a><h3>Avoid /usr/ucb/cc.</h3>
<p>You don't need to have /usr/ucb/ in your PATH to build perl.  If you
want /usr/ucb/ in your PATH anyway, make sure that /usr/ucb/ is NOT
in your PATH before the directory containing the right C compiler.</p>
<a name="Sun's-C-Compiler"></a><h3>Sun's C Compiler</h3>
<p>If you use Sun's C compiler, make sure the correct directory
(usually /opt/SUNWspro/bin/) is in your PATH (before /usr/ucb/).</p>
<a name="GCC"></a><h3>GCC</h3>
<p>If you use gcc, make sure your installation is recent and complete.
perl versions since 5.6.0 build fine with gcc &gt; 2.8.1 on Solaris &gt;=
2.6.</p>
<p>You must Configure perl with</p>
<pre class="verbatim"><ol><li> <span class="i">$ sh</span> <span class="w">Configure</span> -<span class="w">Dcc</span>=<span class="w">gcc</span></li></ol></pre><p>If you don't, you may experience strange build errors.</p>
<p>If you have updated your Solaris version, you may also have to update
your gcc.  For example, if you are running Solaris 2.6 and your gcc is
installed under /usr/local, check in /usr/local/lib/gcc-lib and make
sure you have the appropriate directory, sparc-sun-solaris2.6/ or
i386-pc-solaris2.6/.  If gcc's directory is for a different version of
Solaris than you are running, then you will need to rebuild gcc for
your new version of Solaris.</p>
<p>You can get a precompiled version of gcc from
<a href="http://www.sunfreeware.com/">http://www.sunfreeware.com/</a> or <a href="http://www.blastwave.org/">http://www.blastwave.org/</a>. Make
sure you pick up the package for your Solaris release.</p>
<p>If you wish to use gcc to build add-on modules for use with the perl
shipped with Solaris, you should use the Solaris::PerlGcc module
which is available from CPAN.  The perl shipped with Solaris
is configured and built with the Sun compilers, and the compiler
configuration information stored in Config.pm is therefore only
relevant to the Sun compilers.  The Solaris:PerlGcc module contains a
replacement Config.pm that is correct for gcc - see the module for
details.</p>
<a name="GNU-as-and-GNU-ld"></a><h3>GNU as and GNU ld</h3>
<p>The following information applies to gcc version 2.  Volunteers to
update it as appropriately for gcc version 3 would be appreciated.</p>
<p>The versions of as and ld supplied with Solaris work fine for building
perl.  There is normally no need to install the GNU versions to
compile perl.</p>
<p>If you decide to ignore this advice and use the GNU versions anyway,
then be sure that they are relatively recent.  Versions newer than 2.7
are apparently new enough.  Older versions may have trouble with
dynamic loading.</p>
<p>If you wish to use GNU ld, then you need to pass it the -Wl,-E flag.
The hints/solaris_2.sh file tries to do this automatically by setting
the following Configure variables:</p>
<pre class="verbatim"><ol><li> <span class="w">ccdlflags</span>=<span class="q">&quot;$ccdlflags -Wl,-E&quot;</span></li><li> <span class="w">lddlflags</span>=<span class="q">&quot;$lddlflags -Wl,-E -G&quot;</span></li></ol></pre><p>However, over the years, changes in gcc, GNU ld, and Solaris ld have made
it difficult to automatically detect which ld ultimately gets called.
You may have to manually edit config.sh and add the -Wl,-E flags
yourself, or else run Configure interactively and add the flags at the
appropriate prompts.</p>
<p>If your gcc is configured to use GNU as and ld but you want to use the
Solaris ones instead to build perl, then you'll need to add
-B/usr/ccs/bin/ to the gcc command line.  One convenient way to do
that is with</p>
<pre class="verbatim"><ol><li> <span class="i">$ sh</span> <span class="w">Configure</span> -<span class="w">Dcc</span>=<span class="q">&#39;gcc -B/usr/ccs/bin/&#39;</span></li></ol></pre><p>Note that the trailing slash is required.  This will result in some
harmless warnings as Configure is run:</p>
<pre class="verbatim"><ol><li> <span class="j">gcc:</span> <span class="w">file</span> <span class="w">path</span> <span class="w">prefix</span> <span class="q">`/usr/ccs/bin/&#39; never used</span></li></ol></pre><p>These messages may safely be ignored.
(Note that for a SunOS4 system, you must use -B/bin/ instead.)</p>
<p>Alternatively, you can use the GCC_EXEC_PREFIX environment variable to
ensure that Sun's as and ld are used.  Consult your gcc documentation
for further information on the -B option and the GCC_EXEC_PREFIX variable.</p>
<a name="Sun-and-GNU-make"></a><h3>Sun and GNU make</h3>
<p>The make under /usr/ccs/bin works fine for building perl.  If you
have the Sun C compilers, you will also have a parallel version of
make (dmake).  This works fine to build perl, but can sometimes cause
problems when running 'make test' due to underspecified dependencies
between the different test harness files.  The same problem can also
affect the building of some add-on modules, so in those cases either
specify '-m serial' on the dmake command line, or use
/usr/ccs/bin/make instead.  If you wish to use GNU make, be sure that
the set-group-id bit is not set.  If it is, then arrange your PATH so
that /usr/ccs/bin/make is before GNU make or else have the system
administrator disable the set-group-id bit on GNU make.</p>
<a name="Avoid-libucb."></a><h3>Avoid libucb.</h3>
<p>Solaris provides some BSD-compatibility functions in /usr/ucblib/libucb.a.
Perl will not build and run correctly if linked against -lucb since it
contains routines that are incompatible with the standard Solaris libc.
Normally this is not a problem since the solaris hints file prevents
Configure from even looking in /usr/ucblib for libraries, and also
explicitly omits -lucb.</p>
<a name="Environment-for-Compiling-perl-on-Solaris"></a><h2>Environment for Compiling perl on Solaris</h2>
<a name="PATH"></a><h3>PATH</h3>
<p>Make sure your PATH includes the compiler (/opt/SUNWspro/bin/ if you're
using Sun's compiler) as well as /usr/ccs/bin/ to pick up the other
development tools (such as make, ar, as, and ld).  Make sure your path
either doesn't include /usr/ucb or that it includes it after the
compiler and compiler tools and other standard Solaris directories.
You definitely don't want /usr/ucb/cc.</p>
<a name="LD_LIBRARY_PATH"></a><h3>LD_LIBRARY_PATH</h3>
<p>If you have the LD_LIBRARY_PATH environment variable set, be sure that
it does NOT include /lib or /usr/lib.  If you will be building
extensions that call third-party shared libraries (e.g. Berkeley DB)
then make sure that your LD_LIBRARY_PATH environment variable includes
the directory with that library (e.g. /usr/local/lib).</p>
<p>If you get an error message</p>
<pre class="verbatim"><ol><li> <span class="j">dlopen:</span> <span class="w">stub</span> <span class="w">interception</span> <span class="w">failed</span></li></ol></pre><p>it is probably because your LD_LIBRARY_PATH environment variable
includes a directory which is a symlink to /usr/lib (such as /lib).
The reason this causes a problem is quite subtle.  The file
libdl.so.1.0 actually *only* contains functions which generate 'stub
interception failed' errors!  The runtime linker intercepts links to
"/usr/lib/libdl.so.1.0" and links in internal implementations of those
functions instead.  [Thanks to Tim Bunce for this explanation.]</p>
<a name="RUN-CONFIGURE."></a><h1>RUN CONFIGURE.</h1>
<p>See the INSTALL file for general information regarding Configure.
Only Solaris-specific issues are discussed here.  Usually, the
defaults should be fine.</p>
<a name="64-bit-perl-on-Solaris."></a><h2>64-bit perl on Solaris.</h2>
<p>See the INSTALL file for general information regarding 64-bit compiles.
In general, the defaults should be fine for most people.</p>
<p>By default, perl-5.6.0 (or later) is compiled as a 32-bit application
with largefile and long-long support.</p>
<a name="General-32-bit-vs.-64-bit-issues."></a><h3>General 32-bit vs. 64-bit issues.</h3>
<p>Solaris 7 and above will run in either 32 bit or 64 bit mode on SPARC
CPUs, via a reboot. You can build 64 bit apps whilst running 32 bit
mode and vice-versa. 32 bit apps will run under Solaris running in
either 32 or 64 bit mode.  64 bit apps require Solaris to be running
64 bit mode.</p>
<p>Existing 32 bit apps are properly known as LP32, i.e. Longs and
Pointers are 32 bit.  64-bit apps are more properly known as LP64.
The discriminating feature of a LP64 bit app is its ability to utilise a
64-bit address space.  It is perfectly possible to have a LP32 bit app
that supports both 64-bit integers (long long) and largefiles (&gt; 2GB),
and this is the default for perl-5.6.0.</p>
<p>For a more complete explanation of 64-bit issues, see the
"Solaris 64-bit Developer's Guide" at <a href="http://docs.sun.com/">http://docs.sun.com/</a></p>
<p>You can detect the OS mode using "isainfo -v", e.g.</p>
<pre class="verbatim"><ol><li> <span class="i">$ isainfo</span> -<span class="w">v</span>   <span class="c"># Ultra 30 in 64 bit mode</span></li><li> <span class="n">64</span>-<span class="w">bit</span> <span class="w">sparcv9</span> <span class="w">applications</span></li><li> <span class="n">32</span>-<span class="w">bit</span> <span class="w">sparc</span> <span class="w">applications</span></li></ol></pre><p>By default, perl will be compiled as a 32-bit application.  Unless
you want to allocate more than ~ 4GB of memory inside perl, or unless
you need more than 255 open file descriptors, you probably don't need
perl to be a 64-bit app.</p>
<a name="Large-File-Support"></a><h3>Large File Support</h3>
<p>For Solaris 2.6 and onwards, there are two different ways for 32-bit
applications to manipulate large files (files whose size is &gt; 2GByte).
(A 64-bit application automatically has largefile support built in
by default.)</p>
<p>First is the "transitional compilation environment", described in
lfcompile64(5).  According to the man page,</p>
<pre class="verbatim"><ol><li> <span class="w">The</span> <span class="w">transitional</span> <span class="w">compilation</span>  <span class="w">environment</span>  <span class="w">exports</span>  <span class="w">all</span>  <span class="w">the</span></li><li> <span class="w">explicit</span> <span class="n">64</span>-<span class="w">bit</span> <span class="w">functions</span> <span class="s">(</span><span class="i">xxx64</span><span class="s">(</span><span class="s">)</span><span class="s">)</span> <a class="l_k" href="functions/and.html">and</a> <span class="w">types</span> <span class="w">in</span> <span class="w">addition</span> <span class="w">to</span></li><li> <span class="w">all</span> <span class="w">the</span> <span class="w">regular</span> <span class="w">functions</span> <span class="s">(</span><span class="i">xxx</span><span class="s">(</span><span class="s">)</span><span class="s">)</span> <a class="l_k" href="functions/and.html">and</a> <span class="w">types</span>. <span class="w">Both</span> <span class="i">xxx</span><span class="s">(</span><span class="s">)</span>  <a class="l_k" href="functions/and.html">and</a></li><li> <span class="i">xxx64</span><span class="s">(</span><span class="s">)</span>  <span class="w">functions</span>  <span class="w">are</span>  <span class="w">available</span> <span class="w">to</span> <span class="w">the</span> <span class="w">program</span> <span class="w">source</span>.  <span class="w">A</span></li><li> <span class="n">32</span>-<span class="w">bit</span> <span class="w">application</span> <span class="w">must</span> <a class="l_k" href="functions/use.html">use</a> <span class="w">the</span> <span class="i">xxx64</span><span class="s">(</span><span class="s">)</span> <span class="w">functions</span> <span class="w">in</span>  <span class="w">order</span></li><li> <span class="w">to</span>  <span class="w">access</span>  <span class="w">large</span>  <span class="w">files</span>.  <span class="w">See</span> <span class="w">the</span> <span class="i">lf64</span><span class="s">(</span><span class="n">5</span><span class="s">)</span> <span class="w">manual</span> <span class="w">page</span> <a class="l_k" href="functions/for.html">for</a> <span class="w">a</span></li><li> <span class="w">complete</span> <span class="w">listing</span> <span class="w">of</span> <span class="w">the</span> <span class="n">64</span>-<span class="w">bit</span> <span class="w">transitional</span> <span class="w">interfaces</span>.</li></ol></pre><p>The transitional compilation environment is obtained with the
following compiler and linker flags:</p>
<pre class="verbatim"><ol><li> <span class="w">getconf</span> <span class="w">LFS64_CFLAGS</span>        -<span class="w">D_LARGEFILE64_SOURCE</span></li><li> <span class="w">getconf</span> <span class="w">LFS64_LDFLAG</span>        <span class="c"># nothing special needed</span></li><li> <span class="w">getconf</span> <span class="w">LFS64_LIBS</span>          <span class="c"># nothing special needed</span></li></ol></pre><p>Second is the "large file compilation environment", described in
lfcompile(5).  According to the man page,</p>
<pre class="verbatim"><ol><li> <span class="w">Each</span> <span class="w">interface</span> <span class="w">named</span> <span class="i">xxx</span><span class="s">(</span><span class="s">)</span> <span class="w">that</span> <span class="w">needs</span> <span class="w">to</span> <span class="w">access</span> <span class="n">64</span>-<span class="w">bit</span> <span class="w">entities</span></li><li> <span class="w">to</span>  <span class="w">access</span>  <span class="w">large</span>  <span class="w">files</span> <span class="w">maps</span> <span class="w">to</span> <span class="w">a</span> <span class="i">xxx64</span><span class="s">(</span><span class="s">)</span> <span class="w">call</span> <span class="w">in</span> <span class="w">the</span></li><li> <span class="w">resulting</span> <span class="w">binary</span>. <span class="w">All</span> <span class="w">relevant</span> <span class="w">data</span> <span class="w">types</span> <span class="w">are</span> <a class="l_k" href="functions/defined.html">defined</a> <span class="w">to</span>  <span class="w">be</span></li><li> <span class="w">of</span> <span class="w">correct</span> <span class="w">size</span> <span class="s">(</span><a class="l_k" href="functions/for.html">for</a> <span class="w">example</span><span class="cm">,</span> <span class="w">off_t</span> <span class="w">has</span> <span class="w">a</span> <span class="w">typedef</span> <span class="w">definition</span></li><li> <a class="l_k" href="functions/for.html">for</a> <span class="w">a</span> <span class="n">64</span>-<span class="w">bit</span> <span class="w">entity</span><span class="s">)</span>.</li><li></li><li> <span class="w">An</span> <span class="w">application</span> <span class="w">compiled</span> <span class="w">in</span> <span class="w">this</span> <span class="w">environment</span> <span class="w">is</span> <span class="w">able</span>  <span class="w">to</span>  <a class="l_k" href="functions/use.html">use</a></li><li> <span class="w">the</span>  <span class="i">xxx</span><span class="s">(</span><span class="s">)</span>  <span class="w">source</span> <span class="w">interfaces</span> <span class="w">to</span> <span class="w">access</span> <span class="w">both</span> <span class="w">large</span> <a class="l_k" href="functions/and.html">and</a> <span class="w">small</span></li><li> <span class="w">files</span><span class="cm">,</span> <span class="w">rather</span> <span class="w">than</span> <span class="w">having</span> <span class="w">to</span> <span class="w">explicitly</span> <span class="w">utilize</span> <span class="w">the</span>  <span class="w">transitional</span></li><li> <span class="i">xxx64</span><span class="s">(</span><span class="s">)</span>  <span class="w">interface</span>  <span class="w">calls</span> <span class="w">to</span> <span class="w">access</span> <span class="w">large</span> <span class="w">files</span>.</li></ol></pre><p>Two exceptions are fseek() and ftell().  32-bit applications should
use fseeko(3C) and ftello(3C).  These will get automatically mapped
to fseeko64() and ftello64().</p>
<p>The large file compilation environment is obtained with</p>
<pre class="verbatim"><ol><li> <span class="w">getconf</span> <span class="w">LFS_CFLAGS</span>      -<span class="w">D_LARGEFILE_SOURCE</span> -<span class="w">D_FILE_OFFSET_BITS</span>=<span class="n">64</span></li><li> <span class="w">getconf</span> <span class="w">LFS_LDFLAGS</span>     <span class="c"># nothing special needed</span></li><li> <span class="w">getconf</span> <span class="w">LFS_LIBS</span>        <span class="c"># nothing special needed</span></li></ol></pre><p>By default, perl uses the large file compilation environment and
relies on Solaris to do the underlying mapping of interfaces.</p>
<a name="Building-an-LP64-perl"></a><h3>Building an LP64 perl</h3>
<p>To compile a 64-bit application on an UltraSparc with a recent Sun Compiler,
you need to use the flag "-xarch=v9".  getconf(1) will tell you this, e.g.</p>
<pre class="verbatim"><ol><li> <span class="i">$ getconf</span> -<span class="w">a</span> | <a class="l_k" href="functions/grep.html">grep</a> <span class="v">v9</span></li><li> <span class="w">XBS5_LP64_OFF64_CFLAGS</span><span class="co">:</span>         -<span class="w">xarch</span>=<span class="v">v9</span></li><li> <span class="w">XBS5_LP64_OFF64_LDFLAGS</span><span class="co">:</span>        -<span class="w">xarch</span>=<span class="v">v9</span></li><li> <span class="w">XBS5_LP64_OFF64_LINTFLAGS</span><span class="co">:</span>      -<span class="w">xarch</span>=<span class="v">v9</span></li><li> <span class="w">XBS5_LPBIG_OFFBIG_CFLAGS</span><span class="co">:</span>       -<span class="w">xarch</span>=<span class="v">v9</span></li><li> <span class="w">XBS5_LPBIG_OFFBIG_LDFLAGS</span><span class="co">:</span>      -<span class="w">xarch</span>=<span class="v">v9</span></li><li> <span class="w">XBS5_LPBIG_OFFBIG_LINTFLAGS</span><span class="co">:</span>    -<span class="w">xarch</span>=<span class="v">v9</span></li><li> <span class="w">_XBS5_LP64_OFF64_CFLAGS</span><span class="co">:</span>        -<span class="w">xarch</span>=<span class="v">v9</span></li><li> <span class="w">_XBS5_LP64_OFF64_LDFLAGS</span><span class="co">:</span>       -<span class="w">xarch</span>=<span class="v">v9</span></li><li> <span class="w">_XBS5_LP64_OFF64_LINTFLAGS</span><span class="co">:</span>     -<span class="w">xarch</span>=<span class="v">v9</span></li><li> <span class="w">_XBS5_LPBIG_OFFBIG_CFLAGS</span><span class="co">:</span>      -<span class="w">xarch</span>=<span class="v">v9</span></li><li> <span class="w">_XBS5_LPBIG_OFFBIG_LDFLAGS</span><span class="co">:</span>     -<span class="w">xarch</span>=<span class="v">v9</span></li><li> <span class="w">_XBS5_LPBIG_OFFBIG_LINTFLAGS</span><span class="co">:</span>   -<span class="w">xarch</span>=<span class="v">v9</span></li></ol></pre><p>This flag is supported in Sun WorkShop Compilers 5.0 and onwards
(now marketed under the name Forte) when used on Solaris 7 or later on
UltraSparc systems.</p>
<p>If you are using gcc, you would need to use -mcpu=v9 -m64 instead.  This
option is not yet supported as of gcc 2.95.2; from install/SPECIFIC
in that release:</p>
<pre class="verbatim"><ol><li> <span class="w">GCC</span> <span class="w">version</span> <span class="n">2.95</span> <span class="w">is</span> <a class="l_k" href="functions/not.html">not</a> <span class="w">able</span> <span class="w">to</span> <span class="w">compile</span> <span class="w">code</span> <span class="w">correctly</span> <a class="l_k" href="functions/for.html">for</a> <span class="w">sparc64</span></li><li> <span class="w">targets</span>. <span class="w">Users</span> <span class="w">of</span> <span class="w">the</span> <span class="w">Linux</span> <span class="w">kernel</span><span class="cm">,</span> <span class="w">at</span> <span class="w">least</span><span class="cm">,</span> <span class="w">can</span> <a class="l_k" href="functions/use.html">use</a> <span class="w">the</span> <span class="w">sparc32</span></li><li> <span class="w">program</span> <span class="w">to</span> <span class="w">start</span> <span class="w">up</span> <span class="w">a</span> <span class="w">new</span> <span class="w">shell</span> <span class="w">invocation</span> <span class="w">with</span> <span class="w">an</span> <span class="w">environment</span> <span class="w">that</span></li><li> <span class="w">causes</span> <span class="w">configure</span> <span class="w">to</span> <span class="w">recognize</span> <span class="s">(</span><span class="w">via</span> <span class="w">uname</span> -<span class="w">a</span><span class="s">)</span> <span class="w">the</span> <a class="l_k" href="functions/system.html">system</a> <span class="i">as</span> <span class="w">sparc</span>-<span class="i">*-</span>*</li><li> <span class="w">instead</span>.</li></ol></pre><p>All this should be handled automatically by the hints file, if
requested.</p>
<a name="Long-Doubles."></a><h3>Long Doubles.</h3>
<p>As of 5.8.1, long doubles are working if you use the Sun compilers
(needed for additional math routines not included in libm).</p>
<a name="Threads-in-perl-on-Solaris."></a><h2>Threads in perl on Solaris.</h2>
<p>It is possible to build a threaded version of perl on Solaris.  The entire
perl thread implementation is still experimental, however, so beware.</p>
<a name="Malloc-Issues-with-perl-on-Solaris."></a><h2>Malloc Issues with perl on Solaris.</h2>
<p>Starting from perl 5.7.1 perl uses the Solaris malloc, since the perl
malloc breaks when dealing with more than 2GB of memory, and the Solaris
malloc also seems to be faster.</p>
<p>If you for some reason (such as binary backward compatibility) really
need to use perl's malloc, you can rebuild perl from the sources
and Configure the build with</p>
<pre class="verbatim"><ol><li> <span class="i">$ sh</span> <span class="w">Configure</span> -<span class="w">Dusemymalloc</span></li></ol></pre><p>You should not use perl's malloc if you are building with gcc.  There
are reports of core dumps, especially in the PDL module.  The problem
appears to go away under -DDEBUGGING, so it has been difficult to
track down.  Sun's compiler appears to be okay with or without perl's
malloc. [XXX further investigation is needed here.]</p>
<a name="MAKE-PROBLEMS."></a><h1>MAKE PROBLEMS.</h1>
<ul>
<li><a name="Dynamic-Loading-Problems-With-GNU-as-and-GNU-ld"></a><b>Dynamic Loading Problems With GNU as and GNU ld</b>
<p>If you have problems with dynamic loading using gcc on SunOS or
Solaris, and you are using GNU as and GNU ld, see the section
<a href="#GNU-as-and-GNU-ld">GNU as and GNU ld</a> above.</p>
</li>
<li><a name="ld.so.1%3a-.%2fperl%3a-fatal%3a-relocation-error%3a"></a><b>ld.so.1: ./perl: fatal: relocation error:</b>
<p>If you get this message on SunOS or Solaris, and you're using gcc,
it's probably the GNU as or GNU ld problem in the previous item
<a href="#GNU-as-and-GNU-ld">GNU as and GNU ld</a>.</p>
</li>
<li><a name="dlopen%3a-stub-interception-failed"></a><b>dlopen: stub interception failed</b>
<p>The primary cause of the 'dlopen: stub interception failed' message is
that the LD_LIBRARY_PATH environment variable includes a directory
which is a symlink to /usr/lib (such as /lib).  See
<a href="#LD_LIBRARY_PATH">LD_LIBRARY_PATH</a> above.</p>
</li>
<li><a name="%23error-%22No-DATAMODEL_NATIVE-specified%22"></a><b>#error "No DATAMODEL_NATIVE specified"</b>
<p>This is a common error when trying to build perl on Solaris 2.6 with a
gcc installation from Solaris 2.5 or 2.5.1.  The Solaris header files
changed, so you need to update your gcc installation.  You can either
rerun the fixincludes script from gcc or take the opportunity to
update your gcc installation.</p>
</li>
<li><a name="sh%3a-ar%3a-not-found"></a><b>sh: ar: not found</b>
<p>This is a message from your shell telling you that the command 'ar'
was not found.  You need to check your PATH environment variable to
make sure that it includes the directory with the 'ar' command.  This
is a common problem on Solaris, where 'ar' is in the /usr/ccs/bin/
directory.</p>
</li>
</ul>
<a name="MAKE-TEST"></a><h1>MAKE TEST</h1>
<a name="op%2fstat.t-test-4-in-Solaris"></a><h2>op/stat.t test 4 in Solaris</h2>
<p><i>op/stat.t</i> test 4 may fail if you are on a tmpfs of some sort.
Building in /tmp sometimes shows this behavior.  The
test suite detects if you are building in /tmp, but it may not be able
to catch all tmpfs situations.</p>
<a name="nss_delete-core-dump-from-op%2fpwent-or-op%2fgrent"></a><h2>nss_delete core dump from op/pwent or op/grent</h2>
<p>See <a href="perlhpux.html#nss_delete-core-dump-from-op%2fpwent-or-op%2fgrent">nss_delete core dump from op/pwent or op/grent in perlhpux</a>.</p>
<a name="PREBUILT-BINARIES-OF-PERL-FOR-SOLARIS."></a><h1>PREBUILT BINARIES OF PERL FOR SOLARIS.</h1>
<p>You can pick up prebuilt binaries for Solaris from
<a href="http://www.sunfreeware.com/">http://www.sunfreeware.com/</a>, <a href="http://www.blastwave.org">http://www.blastwave.org</a>,
ActiveState <a href="http://www.activestate.com/">http://www.activestate.com/</a>, and
<a href="http://www.perl.com/">http://www.perl.com/</a> under the Binaries list at the top of the
page.  There are probably other sources as well.  Please note that
these sites are under the control of their respective owners, not the
perl developers.</p>
<a name="RUNTIME-ISSUES-FOR-PERL-ON-SOLARIS."></a><h1>RUNTIME ISSUES FOR PERL ON SOLARIS.</h1>
<a name="Limits-on-Numbers-of-Open-Files-on-Solaris."></a><h2>Limits on Numbers of Open Files on Solaris.</h2>
<p>The stdio(3C) manpage notes that for LP32 applications, only 255
files may be opened using fopen(), and only file descriptors 0
through 255 can be used in a stream.  Since perl calls open() and
then fdopen(3C) with the resulting file descriptor, perl is limited
to 255 simultaneous open files, even if sysopen() is used.  If this
proves to be an insurmountable problem, you can compile perl as a
LP64 application, see <a href="#Building-an-LP64-perl">Building an LP64 perl</a> for details.  Note
also that the default resource limit for open file descriptors on
Solaris is 255, so you will have to modify your ulimit or rctl
(Solaris 9 onwards) appropriately.</p>
<a name="SOLARIS-SPECIFIC-MODULES."></a><h1>SOLARIS-SPECIFIC MODULES.</h1>
<p>See the modules under the Solaris:: and Sun::Solaris namespaces on CPAN,
see <a href="http://www.cpan.org/modules/by-module/Solaris/">http://www.cpan.org/modules/by-module/Solaris/</a> and
<a href="http://www.cpan.org/modules/by-module/Sun/">http://www.cpan.org/modules/by-module/Sun/</a>.</p>
<a name="SOLARIS-SPECIFIC-PROBLEMS-WITH-MODULES."></a><h1>SOLARIS-SPECIFIC PROBLEMS WITH MODULES.</h1>
<a name="Proc%3a%3aProcessTable-on-Solaris"></a><h2>Proc::ProcessTable on Solaris</h2>
<p>Proc::ProcessTable does not compile on Solaris with perl5.6.0 and higher
if you have LARGEFILES defined.  Since largefile support is the
default in 5.6.0 and later, you have to take special steps to use this
module.</p>
<p>The problem is that various structures visible via procfs use off_t,
and if you compile with largefile support these change from 32 bits to
64 bits.  Thus what you get back from procfs doesn't match up with
the structures in perl, resulting in garbage.  See proc(4) for further
discussion.</p>
<p>A fix for Proc::ProcessTable is to edit Makefile to
explicitly remove the largefile flags from the ones MakeMaker picks up
from Config.pm.  This will result in Proc::ProcessTable being built
under the correct environment.  Everything should then be OK as long as
Proc::ProcessTable doesn't try to share off_t's with the rest of perl,
or if it does they should be explicitly specified as off64_t.</p>
<a name="BSD%3a%3aResource-on-Solaris"></a><h2>BSD::Resource on Solaris</h2>
<p>BSD::Resource versions earlier than 1.09 do not compile on Solaris
with perl 5.6.0 and higher, for the same reasons as Proc::ProcessTable.
BSD::Resource versions starting from 1.09 have a workaround for the problem.</p>
<a name="Net%3a%3aSSLeay-on-Solaris"></a><h2>Net::SSLeay on Solaris</h2>
<p>Net::SSLeay requires a /dev/urandom to be present. This device is
available from Solaris 9 onwards.  For earlier Solaris versions you
can either get the package SUNWski (packaged with several Sun
software products, for example the Sun WebServer, which is part of
the Solaris Server Intranet Extension, or the Sun Directory Services,
part of Solaris for ISPs) or download the ANDIrand package from
<a href="http://www.cosy.sbg.ac.at/~andi/">http://www.cosy.sbg.ac.at/~andi/</a>. If you use SUNWski, make a
symbolic link /dev/urandom pointing to /dev/random.  For more details,
see Document ID27606 entitled "Differing /dev/random support requirements
within Solaris[TM] Operating Environments", available at
<a href="http://sunsolve.sun.com">http://sunsolve.sun.com</a> .</p>
<p>It may be possible to use the Entropy Gathering Daemon (written in
Perl!), available from <a href="http://www.lothar.com/tech/crypto/">http://www.lothar.com/tech/crypto/</a>.</p>
<a name="SunOS-4.x"></a><h1>SunOS 4.x</h1>
<p>In SunOS 4.x you most probably want to use the SunOS ld, /usr/bin/ld,
since the more recent versions of GNU ld (like 2.13) do not seem to
work for building Perl anymore.  When linking the extensions, the
GNU ld gets very unhappy and spews a lot of errors like this</p>
<pre class="verbatim"><ol><li>  ... <span class="w">relocation</span> <span class="w">truncated</span> <span class="w">to</span> <span class="w">fit</span><span class="co">:</span> <span class="w">BASE13</span> ...</li></ol></pre><p>and dies.  Therefore the SunOS 4.1 hints file explicitly sets the
ld to be <i>/usr/bin/ld</i>.</p>
<p>As of Perl 5.8.1 the dynamic loading of libraries (DynaLoader, XSLoader)
also seems to have become broken in in SunOS 4.x.  Therefore the default
is to build Perl statically.</p>
<p>Running the test suite in SunOS 4.1 is a bit tricky since the
<i>lib/Tie/File/t/09_gen_rs</i> test hangs (subtest #51, FWIW) for some
unknown reason.  Just stop the test and kill that particular Perl
process.</p>
<p>There are various other failures, that as of SunOS 4.1.4 and gcc 3.2.2
look a lot like gcc bugs.  Many of the failures happen in the Encode
tests, where for example when the test expects "0" you get "&amp;#48;"
which should after a little squinting look very odd indeed.
Another example is earlier in <i>t/run/fresh_perl</i> where chr(0xff) is
expected but the test fails because the result is chr(0xff).  Exactly.</p>
<p>This is the "make test" result from the said combination:</p>
<pre class="verbatim"><ol><li>  <span class="w">Failed</span> <span class="n">27</span> <span class="w">test</span> <span class="w">scripts</span> <span class="w">out</span> <span class="w">of</span> <span class="n">745</span><span class="cm">,</span> <span class="n">96.38</span>% <span class="w">okay</span>.</li></ol></pre><p>Running the <code class="inline"><span class="w">harness</span></code>
 is painful because of the many failing
Unicode-related tests will output megabytes of failure messages,
but if one patiently waits, one gets these results:</p>
<pre class="verbatim"><ol><li> <span class="w">Failed</span> <span class="w">Test</span>                     <span class="w">Stat</span> <span class="w">Wstat</span> <span class="w">Total</span> <span class="w">Fail</span>  <span class="w">Failed</span>  <span class="w">List</span> <span class="w">of</span> <span class="w">Failed</span></li><li> -----------------------------------------------------------------------------</li><li> ...</li><li> ..<span class="q">/ext/</span><span class="w">Encode</span>/<span class="w">t</span>/<span class="w">at</span>-<span class="w">cn</span>.<span class="w">t</span>            <span class="n">4</span>  <span class="n">1024</span>    <span class="n">29</span>    <span class="n">4</span>  <span class="n">13.79</span>%  <span class="n">14</span>-<span class="n">17</span></li><li> ..<span class="q">/ext/</span><span class="w">Encode</span>/<span class="w">t</span>/<span class="w">at</span>-<span class="w">tw</span>.<span class="w">t</span>           <span class="n">10</span>  <span class="n">2560</span>    <span class="n">17</span>   <span class="n">10</span>  <span class="n">58.82</span>%  <span class="n">2</span> <span class="n">4</span> <span class="n">6</span> <span class="n">8</span> <span class="n">10</span> <span class="n">12</span></li><li>                                                                <span class="n">14</span>-<span class="n">17</span></li><li> ..<span class="q">/ext/</span><span class="w">Encode</span>/<span class="w">t</span>/<span class="w">enc_data</span>.<span class="w">t</span>        <span class="n">29</span>  <span class="n">7424</span>    ?<span class="q">?   ?</span>?       <span class="i">%  ?</span>?</li><li> ..<span class="q">/ext/</span><span class="w">Encode</span>/<span class="w">t</span>/<span class="w">enc_eucjp</span>.<span class="w">t</span>       <span class="n">29</span>  <span class="n">7424</span>    ?<span class="q">?   ?</span>?       <span class="i">%  ?</span>?</li><li> ..<span class="q">/ext/</span><span class="w">Encode</span>/<span class="w">t</span>/<span class="w">enc_module</span>.<span class="w">t</span>      <span class="n">29</span>  <span class="n">7424</span>    ?<span class="q">?   ?</span>?       <span class="i">%  ?</span>?</li><li> ..<span class="q">/ext/</span><span class="w">Encode</span>/<span class="w">t</span>/<span class="w">encoding</span>.<span class="w">t</span>        <span class="n">29</span>  <span class="n">7424</span>    ?<span class="q">?   ?</span>?       <span class="i">%  ?</span>?</li><li> ..<span class="q">/ext/</span><span class="w">Encode</span>/<span class="w">t</span>/<span class="w">grow</span>.<span class="w">t</span>            <span class="n">12</span>  <span class="n">3072</span>    <span class="n">24</span>   <span class="n">12</span>  <span class="n">50.00</span>%  <span class="n">2</span> <span class="n">4</span> <span class="n">6</span> <span class="n">8</span> <span class="n">10</span> <span class="n">12</span> <span class="n">14</span></li><li>                                                                <span class="n">16</span> <span class="n">18</span> <span class="n">20</span> <span class="n">22</span> <span class="n">24</span></li><li>  <span class="w">Failed</span> <span class="w">Test</span>                     <span class="w">Stat</span> <span class="w">Wstat</span> <span class="w">Total</span> <span class="w">Fail</span>  <span class="w">Failed</span>  <span class="w">List</span> <span class="w">of</span> <span class="w">Failed</span></li><li> ------------------------------------------------------------------------------</li><li> ..<span class="q">/ext/</span><span class="w">Encode</span>/<span class="w">t</span>/<span class="w">guess</span>.<span class="w">t</span>          <span class="n">255</span> <span class="n">65280</span>    <span class="n">29</span>   <span class="n">40</span> <span class="n">137.93</span>%  <span class="n">10</span>-<span class="n">29</span></li><li> ..<span class="q">/ext/</span><span class="w">Encode</span>/<span class="w">t</span>/<span class="w">jperl</span>.<span class="w">t</span>           <span class="n">29</span>  <span class="n">7424</span>    <span class="n">15</span>   <span class="n">30</span> <span class="n">200.00</span>%  <span class="n">1</span>-<span class="n">15</span></li><li> ..<span class="q">/ext/</span><span class="w">Encode</span>/<span class="w">t</span>/<span class="w">mime</span>-<span class="w">header</span>.<span class="w">t</span>      <span class="n">2</span>   <span class="n">512</span>    <span class="n">10</span>    <span class="n">2</span>  <span class="n">20.00</span>%  <span class="n">2</span>-<span class="n">3</span></li><li> ..<span class="q">/ext/</span><span class="w">Encode</span>/<span class="w">t</span>/<span class="w">perlio</span>.<span class="w">t</span>          <span class="n">22</span>  <span class="n">5632</span>    <span class="n">38</span>   <span class="n">22</span>  <span class="n">57.89</span>%  <span class="n">1</span>-<span class="n">4</span> <span class="n">9</span>-<span class="n">16</span> <span class="n">19</span>-<span class="n">20</span></li><li>                                                                <span class="n">23</span>-<span class="n">24</span> <span class="n">27</span>-<span class="n">32</span></li><li> ..<span class="q">/ext/</span><span class="w">List</span>/<span class="w">Util</span>/<span class="w">t</span>/<span class="w">shuffle</span>.<span class="w">t</span>       <span class="n">0</span>   <span class="n">139</span>    ?<span class="q">?   ?</span>?       <span class="i">%  ?</span>?</li><li> ..<span class="q">/ext/</span><span class="w">PerlIO</span>/<span class="w">t</span>/<span class="w">encoding</span>.<span class="w">t</span>                    <span class="n">14</span>    <span class="n">1</span>   <span class="n">7.14</span>%  <span class="n">11</span></li><li> ..<span class="q">/ext/</span><span class="w">PerlIO</span>/<span class="w">t</span>/<span class="w">fallback</span>.<span class="w">t</span>                     <span class="n">9</span>    <span class="n">2</span>  <span class="n">22.22</span>%  <span class="n">3</span> <span class="n">5</span></li><li> ..<span class="q">/ext/</span><span class="w">Socket</span>/<span class="w">t</span>/<a class="l_k" href="functions/socketpair.html">socketpair</a>.<span class="w">t</span>       <span class="n">0</span>     <span class="n">2</span>    <span class="n">45</span>   <span class="n">70</span> <span class="n">155.56</span>%  <span class="n">11</span>-<span class="n">45</span></li><li> ..<span class="q">/lib/</span><span class="w">CPAN</span>/<span class="w">t</span>/<span class="w">vcmp</span>.<span class="w">t</span>                          <span class="n">30</span>    <span class="n">1</span>   <span class="n">3.33</span>%  <span class="n">25</span></li><li> ..<span class="q">/lib/</span><span class="w">Tie</span>/<span class="w">File</span>/<span class="w">t</span>/<span class="n">09_gen_rs</span>.<span class="w">t</span>      <span class="n">0</span>    <span class="n">15</span>    ?<span class="q">?   ?</span>?       <span class="i">%  ?</span>?</li><li> ..<span class="q">/lib/</span><span class="w">Unicode</span>/<span class="w">Collate</span>/<span class="w">t</span>/<span class="w">test</span>.<span class="w">t</span>              <span class="n">199</span>   <span class="n">30</span>  <span class="n">15.08</span>%  <span class="n">7</span> <span class="n">26</span>-<span class="n">27</span> <span class="n">71</span>-<span class="n">75</span></li><li>                                                                <span class="n">81</span>-<span class="n">88</span> <span class="n">95</span> <span class="n">101</span></li><li>                                                                <span class="n">103</span>-<span class="n">104</span> <span class="n">106</span> <span class="n">108</span>-</li><li>                                                                <span class="n">109</span> <span class="n">122</span> <span class="n">124</span> <span class="n">161</span></li><li>                                                                <span class="n">169</span>-<span class="n">172</span></li><li> ..<span class="q">/lib/sort</span>.<span class="w">t</span>                      <span class="n">0</span>   <span class="n">139</span>   <span class="n">119</span>   <span class="n">26</span>  <span class="n">21.85</span>%  <span class="n">107</span>-<span class="n">119</span></li><li> <span class="w">op</span>/<a class="l_k" href="functions/alarm.html">alarm</a>.<span class="w">t</span>                                     <span class="n">4</span>    <span class="n">1</span>  <span class="n">25.00</span>%  <span class="n">4</span></li><li> <span class="w">op</span>/<span class="w">utfhash</span>.<span class="w">t</span>                                  <span class="n">97</span>    <span class="n">1</span>   <span class="n">1.03</span>%  <span class="n">31</span></li><li> <span class="w">run</span>/<span class="w">fresh_perl</span>.<span class="w">t</span>                              <span class="n">91</span>    <span class="n">1</span>   <span class="n">1.10</span>%  <span class="n">32</span></li><li> <span class="w">uni</span>/<span class="w">tr_7jis</span>.<span class="w">t</span>                                 ?<span class="q">?   ?</span>?       <span class="i">%  ?</span>?</li><li> <span class="w">uni</span>/<span class="w">tr_eucjp</span>.<span class="w">t</span>                    <span class="n">29</span>  <span class="n">7424</span>     <span class="n">6</span>   <span class="n">12</span> <span class="n">200.00</span>%  <span class="n">1</span>-<span class="n">6</span></li><li> <span class="w">uni</span>/<span class="w">tr_sjis</span>.<span class="w">t</span>                     <span class="n">29</span>  <span class="n">7424</span>     <span class="n">6</span>   <span class="n">12</span> <span class="n">200.00</span>%  <span class="n">1</span>-<span class="n">6</span></li><li> <span class="n">56</span> <span class="w">tests</span> and <span class="n">467</span> <span class="w">subtests</span> <span class="w">skipped</span>.</li><li> <span class="w">Failed</span> <span class="n">27</span>/<span class="n">811</span> <span class="w">test</span> <span class="w">scripts</span><span class="cm">,</span> <span class="n">96.67</span>% <span class="w">okay</span>. <span class="n">1383</span>/<span class="n">75399</span> <span class="w">subtests</span> <span class="w">failed</span><span class="cm">,</span> <span class="n">98.17</span>% <span class="w">okay</span>.</li></ol></pre><p>The alarm() test failure is caused by system() apparently blocking
alarm().  That is probably a libc bug, and given that SunOS 4.x
has been end-of-lifed years ago, don't hold your breath for a fix.
In addition to that, don't try anything too Unicode-y, especially
with Encode, and you should be fine in SunOS 4.x.</p>
<a name="AUTHOR"></a><h1>AUTHOR</h1>
<p>The original was written by Andy Dougherty <i>doughera@lafayette.edu</i>
drawing heavily on advice from Alan Burlison, Nick Ing-Simmons, Tim Bunce,
and many other Solaris users over the years.</p>
<p>Please report any errors, updates, or suggestions to <i>perlbug@perl.org</i>.</p>




  <div id="page_index" class="hud_container">
    <div id="page_index_header" class="hud_header">
      <div id="page_index_close" class="hud_close"><a href="#" onClick="pageIndex.hide();return false;"></a></div>
      <div id="page_index_title" class="hud_title"><span class="hud_span_top">Page index</span></div>
      <div id="page_index_topright" class="hud_topright"></div>
    </div>
    <div id="page_index_content" class="hud_content">
      <ul><li><a href="#NAME">NAME</a><li><a href="#DESCRIPTION">DESCRIPTION</a><ul><li><a href="#Solaris-Version-Numbers.">Solaris Version Numbers.</a></ul><li><a href="#RESOURCES">RESOURCES</a><li><a href="#SETTING-UP">SETTING UP</a><ul><li><a href="#File-Extraction-Problems-on-Solaris.">File Extraction Problems on Solaris.</a><li><a href="#Compiler-and-Related-Tools-on-Solaris.">Compiler and Related Tools on Solaris.</a><li><a href="#Environment-for-Compiling-perl-on-Solaris">Environment for Compiling perl on Solaris</a></ul><li><a href="#RUN-CONFIGURE.">RUN CONFIGURE.</a><ul><li><a href="#64-bit-perl-on-Solaris.">64-bit perl on Solaris.</a><li><a href="#Threads-in-perl-on-Solaris.">Threads in perl on Solaris.</a><li><a href="#Malloc-Issues-with-perl-on-Solaris.">Malloc Issues with perl on Solaris.</a></ul><li><a href="#MAKE-PROBLEMS.">MAKE PROBLEMS.</a><li><a href="#MAKE-TEST">MAKE TEST</a><ul><li><a href="#op%2fstat.t-test-4-in-Solaris">op/stat.t test 4 in Solaris</a><li><a href="#nss_delete-core-dump-from-op%2fpwent-or-op%2fgrent">nss_delete core dump from op/pwent or op/grent</a></ul><li><a href="#PREBUILT-BINARIES-OF-PERL-FOR-SOLARIS.">PREBUILT BINARIES OF PERL FOR SOLARIS.</a><li><a href="#RUNTIME-ISSUES-FOR-PERL-ON-SOLARIS.">RUNTIME ISSUES FOR PERL ON SOLARIS.</a><ul><li><a href="#Limits-on-Numbers-of-Open-Files-on-Solaris.">Limits on Numbers of Open Files on Solaris.</a></ul><li><a href="#SOLARIS-SPECIFIC-MODULES.">SOLARIS-SPECIFIC MODULES.</a><li><a href="#SOLARIS-SPECIFIC-PROBLEMS-WITH-MODULES.">SOLARIS-SPECIFIC PROBLEMS WITH MODULES.</a><ul><li><a href="#Proc%3a%3aProcessTable-on-Solaris">Proc::ProcessTable on Solaris</a><li><a href="#BSD%3a%3aResource-on-Solaris">BSD::Resource on Solaris</a><li><a href="#Net%3a%3aSSLeay-on-Solaris">Net::SSLeay on Solaris</a></ul><li><a href="#SunOS-4.x">SunOS 4.x</a><li><a href="#AUTHOR">AUTHOR</a></ul>
    </div>
    <div id="page_index_footer" class="hud_footer">
      <div id="page_index_bottomleft" class="hud_bottomleft"></div>
      <div id="page_index_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
      <div id="page_index_resize" class="hud_resize"></div>
    </div>
  </div>


                </div>
              </article>
        </div>        
      </main>
    </div>
    <footer class="footer row bg-light pt-5 pb-5">
      <div class="col-sm-8 offset-sm-2">
        <div class="row">
          <div class="col-md-4">
            <ul class="list-unstyled">
              <li>
                <h4>Site info</h4>
              </li>
              <li>Site mantained by
                <a href="mailto:community@opusvl.com"><img class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo"></a>
              </li>
              <li>Docs mantained by
                <a href="//lists.cpan.org/showlist.cgi?name=perl5-porters" rel="noopener">Perl 5 Porters</a>
              </li>
              <li>Development supported by
                <a href="//opusvl.com" rel="noopener">OpusVL</a>
              </li>
            </ul>
          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Manual</h4>
                  </li>
                  <li>
                    <a href="/5/18/3/index-overview.html">Overview</a>
                  </li>
                  <li>
                    <a href="/5/18/3/index-tutorials.html">Tutorials</a>
                  </li>
                  <li>
                    <a href="/5/18/3/index-faq.html">FAQs</a>
                  </li>
                  <li>
                    <a href="/5/18/3/index-history.html">Changes</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Reference</h4>
                  </li>
                  <li>
                    <a href="/5/18/3/index-language.html">Language</a>
                  </li>
                  <li>
                    <a href="/5/18/3/index-functions.html">Functions</a>
                  </li>
                  <li>
                    <a href="/5/18/3/perlop.html">Operators</a>
                  </li>
                  <li>
                    <a href="/5/18/3/perlvar.html">Variables</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Modules</h4>
                  </li>
                  <li>
                    <a href="/5/18/3/index-modules-A.html">Modules</a>
                  </li>
                  <li>
                    <a href="/5/18/3/index-pragmas.html">Pragmas</a>
                  </li>
                  <li>
                    <a href="/5/18/3/index-utilities.html">Utilities</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Misc</h4>
                  </li>
                  <li>
                    <a href="/5/18/3/index-licence.html">License</a>
                  </li>
                  <li>
                    <a href="/5/18/3/index-internals.html">Internals</a>
                  </li>
                  <li>
                    <a href="/5/18/3/index-platforms.html">Platforms</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class=" col-12 footer-inf text-center">
            <small>perldoc.perl.org - Official documentation for the Perl programming language</small>
          </div>
        </div>
      </div>
    </footer>
    <script src="/public/js/main.min.js"></script>
  </body>
</html>
