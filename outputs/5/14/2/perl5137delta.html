<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="/public/img/favicon.ico">
    <title>perl5137delta - perldoc.perl.org</title>
    <link href="/public/css/main.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900' rel='stylesheet' type='text/css'>
  </head>
  <body class="body container-fluid ">
    <div class="wrapper">
        <nav class="navbar navbar-expand-md navbar-dark bg-primary bg-perl fixed-top justify-content-between">
          <a class="navbar-brand" href="/">
            <object class="logo" data="/public/img/logo_perl_doc.svg" type="image/svg+xml">Perl Documentation Logo</object>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div id="navbar" class="collapse navbar-collapse justify-content-end">
            <div class="nav navbar-nav navbar-right">
              <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" id="dropdown-menu-links" aria-labelledby="navbarDropdown">
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                  <a class="dropdown-item" href="/5/14/2/index-overview.html">Overview</a>
                  <a class="dropdown-item" href="/5/14/2/index-tutorials.html">Tutorials</a>
                  <a class="dropdown-item" href="/5/14/2/index-faq.html">FAQs</a>
                  <a class="dropdown-item" href="/5/14/2/index-history.html">History / Changes</a>
                  <a class="dropdown-item" href="/5/14/2/index-licence.html">License</a>
                  <a class="dropdown-item" href="/5/14/2/index-language.html">Language</a>
                  <a class="dropdown-item" href="/5/14/2/index-functions.html">Functions</a>
                  <a class="dropdown-item" href="/5/14/2/perlop.html">Operators</a>
                  <a class="dropdown-item" href="/5/14/2/perlvar.html">Special Variables</a>
                  <a class="dropdown-item" href="/5/14/2/index-pragmas.html">Pragmas</a>
                  <a class="dropdown-item" href="/5/14/2/index-utilities.html">Utilities</a>
                  <a class="dropdown-item" href="/5/14/2/index-internals.html">Internals</a>
                  <a class="dropdown-item" href="/5/14/2/index-platforms.html">Platform Specific</a>
                </div>
              </li>
              <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle " data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3" class="dropdown-menu letters-wrap">
                  <a class="dropdown-item" href="/5/14/2/index-functions.html">A-Z</a>
                  <a class="dropdown-item" href="/5/14/2/index-functions-by-cat.html">By Category</a>
                  <div class="dropdown-divider"></div>
                  <div class="letter-container">
                    <a class="dropdown-item letters" href="/5/14/2/index-modules-A.html">A</a>
                    <a class="dropdown-item letters" href="/5/14/2/index-modules-B.html">B</a>
                    <a class="dropdown-item letters" href="/5/14/2/index-modules-C.html">C</a>
                    <a class="dropdown-item letters" href="/5/14/2/index-modules-D.html">D</a>
                    <a class="dropdown-item letters" href="/5/14/2/index-modules-E.html">E</a>
                    <a class="dropdown-item letters" href="/5/14/2/index-modules-F.html">F</a>
                    <a class="dropdown-item letters" href="/5/14/2/index-modules-G.html">G</a>
                    <a class="dropdown-item letters" href="/5/14/2/index-modules-H.html">H</a>
                    <a class="dropdown-item letters" href="/5/14/2/index-modules-I.html">I</a>
                    <a class="dropdown-item letters" href="/5/14/2/index-modules-J.html">J</a>
                    <a class="dropdown-item letters" href="/5/14/2/index-modules-L.html">L</a>
                    <a class="dropdown-item letters" href="/5/14/2/index-modules-M.html">M</a>
                    <a class="dropdown-item letters" href="/5/14/2/index-modules-N.html">N</a>
                    <a class="dropdown-item letters" href="/5/14/2/index-modules-O.html">O</a>
                    <a class="dropdown-item letters" href="/5/14/2/index-modules-P.html">P</a>
                    <a class="dropdown-item letters" href="/5/14/2/index-modules-S.html">S</a>
                    <a class="dropdown-item letters" href="/5/14/2/index-modules-T.html">T</a>
                    <a class="dropdown-item letters" href="/5/14/2/index-modules-U.html">U</a>
                    <a class="dropdown-item letters" href="/5/14/2/index-modules-X.html">X</a>
                    </div>
                </div>
              </li>
            </div>
          </div>
          <!--/.nav-collapse -->
        </nav>
     
      <main class="row main-content pb-5 pt-5">
        <div class="col-sm-8 offset-sm-2">
          <div class="row">
            <div class="col-sm-12">
                <div id="breadcrumbs">
                    
    <a href="index.html">Home</a> &gt;
    
      
        <a href="index-history.html">History / Changes</a> &gt;
      
    
    perl5137delta
  

                </div>
            </div>
          </div>
          <div class="row">
              <article class="col-sm-12 content">
                <div class="documentation-wrapper">
                  <div id="perl_version">
                    <p class='page-title'> Perl 5 version 14.2 documentation</p>
                  </div>
                  <h1>perl5137delta</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a><li><a href="#DESCRIPTION">DESCRIPTION</a><li><a href="#Core-Enhancements">Core Enhancements</a><ul><li><a href="#Single-term-prototype">Single term prototype</a><li><a href="#use-re-'%2fflags'%3b">use re '/flags';</a><li><a href="#Statement-labels-can-appear-in-more-places">Statement labels can appear in more places</a><li><a href="#use-feature-%22unicode_strings%22-now-applies-to-more-regex-matching">use feature "unicode_strings" now applies to more regex matching</a><li><a href="#Array-and-hash-container-functions-accept-references">Array and hash container functions accept references</a><li><a href="#y%2f%2f%2fr">y///r</a><li><a href="#New-global-variable-%24%7b%5eGLOBAL_PHASE%7d">New global variable ${^GLOBAL_PHASE}</a><li><a href="#Unicode-Version-6.0-is-now-supported-(mostly)">Unicode Version 6.0 is now supported (mostly)</a><li><a href="#Improved-support-for-custom-OPs">Improved support for custom OPs</a></ul><li><a href="#Incompatible-Changes">Incompatible Changes</a><ul><li><a href="#Dereferencing-typeglobs">Dereferencing typeglobs</a><li><a href="#Clearing-stashes">Clearing stashes</a></ul><li><a href="#Deprecations">Deprecations</a><ul><li><a href="#%5cN%7bBELL%7d-is-deprecated">\N{BELL} is deprecated</a></ul><li><a href="#Performance-Enhancements">Performance Enhancements</a><li><a href="#Modules-and-Pragmata">Modules and Pragmata</a><ul><li><a href="#New-Modules-and-Pragmata">New Modules and Pragmata</a><li><a href="#Updated-Modules-and-Pragmata">Updated Modules and Pragmata</a></ul><li><a href="#Documentation">Documentation</a><ul><li><a href="#New-Documentation">New Documentation</a><li><a href="#Changes-to-Existing-Documentation">Changes to Existing Documentation</a></ul><li><a href="#Diagnostics">Diagnostics</a><ul><li><a href="#New-Diagnostics">New Diagnostics</a></ul><li><a href="#Utility-Changes">Utility Changes</a><li><a href="#Testing">Testing</a><li><a href="#Platform-Support">Platform Support</a><ul><li><a href="#Platform-Specific-Notes">Platform-Specific Notes</a></ul><li><a href="#Internal-Changes">Internal Changes</a><li><a href="#Selected-Bug-Fixes">Selected Bug Fixes</a><li><a href="#Obituary">Obituary</a><li><a href="#Acknowledgements">Acknowledgements</a><li><a href="#Reporting-Bugs">Reporting Bugs</a><li><a href="#SEE-ALSO">SEE ALSO</a></ul><a name="NAME"></a><h1>NAME</h1>
<p>perl5137delta - what is new for perl v5.13.7</p>
<a name="DESCRIPTION"></a><h1>DESCRIPTION</h1>
<p>This document describes differences between the 5.13.6 release and
the 5.13.7 release.</p>
<p>If you are upgrading from an earlier release such as 5.13.5, first read
<a href="perl5136delta.html">perl5136delta</a>, which describes differences between 5.13.5 and
5.13.6.</p>
<a name="Core-Enhancements"></a><h1>Core Enhancements</h1>
<a name="Single-term-prototype"></a><h2>Single term prototype</h2>
<p>The <code class="inline">+</code>
 prototype is a special alternative to <code class="inline"><span class="i">$</span></code>
 that will act like
<code class="inline">\<span class="s">[</span><span class="i">@%</span><span class="s">]</span></code>
 when given a literal array or hash variable, but will otherwise
force scalar context on the argument.  This is useful for functions which
should accept either a literal array or an array reference as the argument:</p>
<pre class="verbatim"><ol><li><a name="smartpush"></a>    sub <span class="m">smartpush (+@)</span> <span class="s">{</span></li><li>        <a class="l_k" href="functions/my.html">my</a> <span class="i">$aref</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>        <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;Not an array or arrayref&quot;</span> unless <a class="l_k" href="functions/ref.html">ref</a> <span class="i">$aref</span> eq <span class="q">&#39;ARRAY&#39;</span><span class="sc">;</span></li><li>        <a class="l_k" href="functions/push.html">push</a> <span class="i">@$aref</span><span class="cm">,</span> <span class="i">@_</span><span class="sc">;</span></li><li>    <span class="s">}</span></li></ol></pre><p>When using the <code class="inline">+</code>
 prototype, your function must check that the argument
is of an acceptable type.</p>
<a name="use-re-'%2fflags'%3b"></a><h2><code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">re</span> <span class="q">&#39;/flags&#39;</span><span class="sc">;</span></code>
</h2>
<p>The <code class="inline"><span class="w">re</span></code>
 pragma now has the ability to turn on regular expression flags
till the end of the lexical scope:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">re</span> <span class="q">&#39;/x&#39;</span><span class="sc">;</span></li><li>    <span class="q">&quot;foo&quot;</span> =~ <span class="q">/ (.+) /</span><span class="sc">;</span>  <span class="c"># /x implied</span></li></ol></pre><p>See <a href="http://search.cpan.org/perldoc/re#'%2fflags'-mode">'/flags' mode in re</a> for details.</p>
<a name="Statement-labels-can-appear-in-more-places"></a><h2>Statement labels can appear in more places</h2>
<p>Statement labels can now occur before any type of statement or declaration,
such as <code class="inline"><a class="l_k" href="functions/package.html">package</a></code>.</p>
<a name="use-feature-%22unicode_strings%22-now-applies-to-more-regex-matching"></a><h2><code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">feature</span> <span class="q">&quot;unicode_strings&quot;</span></code>
 now applies to more regex matching</h2>
<p>Another chunk of the <a href="perlunicode.html#The-%22Unicode-Bug%22">The Unicode Bug in perlunicode</a> is fixed in this
release.  Now, regular expressions compiled within the scope of the
"unicode_strings" feature (or under the "u" regex modifier (specifiable
currently only with infix notation <code class="inline"><span class="s">(</span><span class="q">?u:...)</span></code>
 or via <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">re</span> <span class="q">&#39;/u&#39;</span></code>
)
will match the same whether or not the target string is encoded in utf8,
with regard to <code class="inline"><span class="s">[</span><span class="s">[</span><span class="co">:</span><span class="w">posix</span><span class="co">:</span><span class="s">]</span><span class="s">]</span></code>
 character classes</p>
<p>Work is underway to add the case sensitive matching to the control of
this feature, but was not complete in time for this dot release.</p>
<a name="Array-and-hash-container-functions-accept-references"></a><h2>Array and hash container functions accept references</h2>
<p>All built-in functions that operate directly on array or hash
containers now also accept hard references to arrays or hashes:</p>
<pre class="verbatim"><ol><li>  |----------------------------+---------------------------|</li><li>  | <span class="w">Traditional</span> <span class="w">syntax</span>         | <span class="w">Terse</span> <span class="w">syntax</span>              |</li><li>  |----------------------------+---------------------------|</li><li>  | <a class="l_k" href="functions/push.html">push</a> <span class="i">@$arrayref</span><span class="cm">,</span> <span class="i">@stuff</span>    | <a class="l_k" href="functions/push.html">push</a> <span class="i">$arrayref</span><span class="cm">,</span> <span class="i">@stuff</span>    |</li><li>  | <a class="l_k" href="functions/unshift.html">unshift</a> <span class="i">@$arrayref</span><span class="cm">,</span> <span class="i">@stuff</span> | <a class="l_k" href="functions/unshift.html">unshift</a> <span class="i">$arrayref</span><span class="cm">,</span> <span class="i">@stuff</span> |</li><li>  | <a class="l_k" href="functions/pop.html">pop</a> <span class="i">@$arrayref</span>             | <a class="l_k" href="functions/pop.html">pop</a> <span class="i">$arrayref</span>             |</li><li>  | <a class="l_k" href="functions/shift.html">shift</a> <span class="i">@$arrayref</span>           | <a class="l_k" href="functions/shift.html">shift</a> <span class="i">$arrayref</span>           |</li><li>  | <a class="l_k" href="functions/splice.html">splice</a> <span class="i">@$arrayref</span><span class="cm">,</span> <span class="n">0</span><span class="cm">,</span> <span class="n">2</span>    | <a class="l_k" href="functions/splice.html">splice</a> <span class="i">$arrayref</span><span class="cm">,</span> <span class="n">0</span><span class="cm">,</span> <span class="n">2</span>    |</li><li>  | <a class="l_k" href="functions/keys.html">keys</a> <span class="i">%$hashref</span>             | <a class="l_k" href="functions/keys.html">keys</a> <span class="i">$hashref</span>             |</li><li>  | <a class="l_k" href="functions/keys.html">keys</a> <span class="i">@$arrayref</span>            | <a class="l_k" href="functions/keys.html">keys</a> <span class="i">$arrayref</span>            |</li><li>  | <a class="l_k" href="functions/values.html">values</a> <span class="i">%$hashref</span>           | <a class="l_k" href="functions/values.html">values</a> <span class="i">$hashref</span>           |</li><li>  | <a class="l_k" href="functions/values.html">values</a> <span class="i">@$arrayref</span>          | <a class="l_k" href="functions/values.html">values</a> <span class="i">$arrayref</span>          |</li><li>  | <span class="s">(</span><span class="i">$k</span><span class="cm">,</span><span class="i">$v</span><span class="s">)</span> = <a class="l_k" href="functions/each.html">each</a> <span class="i">%$hashref</span>   | <span class="s">(</span><span class="i">$k</span><span class="cm">,</span><span class="i">$v</span><span class="s">)</span> = <a class="l_k" href="functions/each.html">each</a> <span class="i">$hashref</span>   |</li><li>  | <span class="s">(</span><span class="i">$k</span><span class="cm">,</span><span class="i">$v</span><span class="s">)</span> = <a class="l_k" href="functions/each.html">each</a> <span class="i">@$arrayref</span>  | <span class="s">(</span><span class="i">$k</span><span class="cm">,</span><span class="i">$v</span><span class="s">)</span> = <a class="l_k" href="functions/each.html">each</a> <span class="i">$arrayref</span>  |</li><li>  |----------------------------+---------------------------|</li></ol></pre><p>This allows these built-in functions to act on long dereferencing chains
or on the return value of subroutines without needing to wrap them in
<code class="inline"><span class="i">@</span>{}</code>
 or <code class="inline"><span class="i">%</span>{}</code>
:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="functions/push.html">push</a> <span class="i">@</span>{<span class="i">$obj</span><span class="i">-&gt;tags</span>}<span class="cm">,</span> <span class="i">$new_tag</span><span class="sc">;</span>  <span class="c"># old way</span></li><li>  <a class="l_k" href="functions/push.html">push</a> <span class="i">$obj</span><span class="i">-&gt;tags</span><span class="cm">,</span>    <span class="i">$new_tag</span><span class="sc">;</span>  <span class="c"># new way</span></li><li></li><li>  <a class="l_k" href="functions/for.html">for</a> <span class="s">(</span> <a class="l_k" href="functions/keys.html">keys</a> <span class="i">%</span>{<span class="i">$hoh</span>-&gt;{<span class="w">genres</span>}{<span class="w">artists</span>}} <span class="s">)</span> <span class="s">{</span>...<span class="s">}</span> <span class="c"># old way </span></li><li>  <a class="l_k" href="functions/for.html">for</a> <span class="s">(</span> <a class="l_k" href="functions/keys.html">keys</a> <span class="i">$hoh</span>-&gt;{<span class="w">genres</span>}{<span class="w">artists</span>}    <span class="s">)</span> <span class="s">{</span>...<span class="s">}</span> <span class="c"># new way</span></li></ol></pre><p>For <code class="inline"><a class="l_k" href="functions/push.html">push</a></code>, <code class="inline"><a class="l_k" href="functions/unshift.html">unshift</a></code> and <code class="inline"><a class="l_k" href="functions/splice.html">splice</a></code>, the reference will auto-vivify
if it is not defined, just as if it were wrapped with <code class="inline"><span class="i">@</span>{}</code>
.</p>
<p>Calling <code class="inline"><a class="l_k" href="functions/keys.html">keys</a></code> or <code class="inline"><a class="l_k" href="functions/values.html">values</a></code> directly on a reference gives a substantial
performance improvement over explicit dereferencing.</p>
<p>For <code class="inline"><a class="l_k" href="functions/keys.html">keys</a></code>, <code class="inline"><a class="l_k" href="functions/values.html">values</a></code>, <code class="inline"><a class="l_k" href="functions/each.html">each</a></code>, when overloaded dereferencing is
present, the overloaded dereference is used instead of dereferencing the
underlying reftype.  Warnings are issued about assumptions made in the
following three ambiguous cases:</p>
<pre class="verbatim"><ol><li>  <span class="s">(</span><span class="w">a</span><span class="s">)</span> <span class="w">If</span> <span class="w">both</span> <span class="i">%</span>{} and <span class="i">@</span>{} <span class="w">overloading</span> <a class="l_k" href="functions/exists.html">exists</a><span class="cm">,</span> <span class="i">%</span>{} <span class="w">is</span> <span class="i">used</span></li><li>  <span class="s">(</span><span class="w">b</span><span class="s">)</span> <span class="w">If</span> <span class="i">%</span>{} <span class="w">overloading</span> <a class="l_k" href="functions/exists.html">exists</a> <span class="w">on</span> <span class="w">a</span> <span class="w">blessed</span> <span class="w">arrayref</span><span class="cm">,</span> <span class="i">%</span>{} <span class="w">is</span> <span class="i">used</span></li><li>  <span class="s">(</span><span class="w">c</span><span class="s">)</span> <span class="w">If</span> <span class="i">@</span>{} <span class="w">overloading</span> <a class="l_k" href="functions/exists.html">exists</a> <span class="w">on</span> <span class="w">a</span> <span class="w">blessed</span> <span class="w">hashref</span><span class="cm">,</span> <span class="i">@</span>{} <span class="w">is</span> <span class="w">used</span></li></ol></pre><a name="y%2f%2f%2fr"></a><h2>y///r</h2>
<p>The <code class="inline"><span class="q">/r</span></code>
 flag, which was added to <code class="inline"><a class="l_k" href="functions/s.html">s///</a></code> in 5.13.2, has been extended to
the <code class="inline"><a class="l_k" href="functions/y.html">y///</a></code> operator.</p>
<p>It causes it to perform the substitution on a <i>copy</i> of its operand,
returning that copy instead of a character count.</p>
<a name="New-global-variable-%24%7b%5eGLOBAL_PHASE%7d"></a><h2>New global variable <code class="inline"><span class="i">$</span>{<span class="w">^GLOBAL_PHASE</span>}</code>
</h2>
<p>A new global variable, <code class="inline"><span class="i">$</span>{<span class="w">^GLOBAL_PHASE</span>}</code>
, has been added to allow
introspection of the current phase of the perl interpreter. It's explained in
detail in <a href="perlvar.html#%24%7b%5eGLOBAL_PHASE%7d">${^GLOBAL_PHASE} in perlvar</a> and
<a href="perlmod.html#BEGIN%2c-UNITCHECK%2c-CHECK%2c-INIT-and-END">BEGIN, UNITCHECK, CHECK, INIT and END in perlmod</a>.</p>
<a name="Unicode-Version-6.0-is-now-supported-(mostly)"></a><h2>Unicode Version 6.0 is now supported (mostly)</h2>
<p>Perl comes with the Unicode 6.0 data base updated with
<a href="http://www.unicode.org/versions/corrigendum8.html">Corrigendum #8</a>,
with one exception noted below.
See <a href="http://unicode.org/versions/Unicode6.0.0">http://unicode.org/versions/Unicode6.0.0</a> for details on the new
release.  Perl does not support any Unicode provisional properties,
including the new ones for this release, but their database files are
packaged with Perl.</p>
<p>Unicode 6.0 has chosen to use the name <code class="inline"><span class="w">BELL</span></code>
 for the character at U+1F514,
which is a symbol that looks like a bell, and used in Japanese cell
phones.  This conflicts with the long-standing Perl usage of having
<code class="inline"><span class="w">BELL</span></code>
 mean the ASCII <code class="inline"><span class="w">BEL</span></code>
 character, U+0007.  In Perl 5.14,
<code class="inline">\<span class="i">N</span><span class="s">{</span><span class="w">BELL</span><span class="s">}</span></code>
 will continue to mean U+0007, but its use will generate a
deprecated warning message, unless such warnings are turned off.  The
new name for U+0007 in Perl will be <code class="inline"><span class="w">ALERT</span></code>
, which corresponds nicely
with the existing shorthand sequence for it, <code class="inline"><span class="q">&quot;\a&quot;</span></code>
.  <code class="inline">\<span class="i">N</span><span class="s">{</span><span class="w">BEL</span><span class="s">}</span></code>
 will
mean U+0007, with no warning given.  The character at U+1F514 will not
have a name in 5.14, but can be referred to by <code class="inline">\<span class="i">N</span><span class="s">{</span><span class="w">U</span>+<span class="n">1</span><span class="w">F514</span><span class="s">}</span></code>
.  The plan
is that in Perl 5.16, <code class="inline">\<span class="i">N</span><span class="s">{</span><span class="w">BELL</span><span class="s">}</span></code>
 will refer to U+1F514, and so all code
that uses <code class="inline">\<span class="i">N</span><span class="s">{</span><span class="w">BELL</span><span class="s">}</span></code>
 should convert by then to using <code class="inline">\<span class="i">N</span><span class="s">{</span><span class="w">ALERT</span><span class="s">}</span></code>
,
<code class="inline">\<span class="i">N</span><span class="s">{</span><span class="w">BEL</span><span class="s">}</span></code>
, or <code class="inline"><span class="q">&quot;\a&quot;</span></code>
 instead.</p>
<a name="Improved-support-for-custom-OPs"></a><h2>Improved support for custom OPs</h2>
<p>Custom ops can now be registered with the new <code class="inline"><span class="w">custom_op_register</span></code>
 C
function and the <code class="inline"><span class="w">XOP</span></code>
 structure. This will make it easier to add new
properties of custom ops in the future. Two new properties have been added
already, <code class="inline"><span class="w">xop_class</span></code>
 and <code class="inline"><span class="w">xop_peep</span></code>
.</p>
<p><code class="inline"><span class="w">xop_class</span></code>
 is one of the OA_*OP constants, and allows <a href="http://search.cpan.org/perldoc/B">B</a> and other
introspection mechanisms to work with custom ops that aren't BASEOPs.
<code class="inline"><span class="w">xop_peep</span></code>
 is a pointer to a function that will be called for ops of this
type from <code class="inline"><span class="w">Perl_rpeep</span></code>
.</p>
<p>See <a href="perlguts.html#Custom-Operators">Custom Operators in perlguts</a> and <a href="perlapi.html#Custom-Operators">Custom Operators in perlapi</a> for more
detail.</p>
<p>The old <code class="inline"><span class="w">PL_custom_op_names</span></code>
/<code class="inline"><span class="w">PL_custom_op_descs</span></code>
 interface is still
supported but discouraged.</p>
<a name="Incompatible-Changes"></a><h1>Incompatible Changes</h1>
<a name="Dereferencing-typeglobs"></a><h2>Dereferencing typeglobs</h2>
<p>If you assign a typeglob to a scalar variable:</p>
<pre class="verbatim"><ol><li>    <span class="i">$glob</span> = <span class="i">*foo</span><span class="sc">;</span></li></ol></pre><p>the glob that is copied to <code class="inline"><span class="i">$glob</span></code>
 is marked with a special flag
indicating that the glob is just a copy. This allows subsequent assignments
to <code class="inline"><span class="i">$glob</span></code>
 to overwrite the glob. The original glob, however, is
immutable.</p>
<p>Many Perl operators did not distinguish between these two types of globs.
This would result in strange behaviour in edge cases: <code class="inline"><a class="l_k" href="functions/untie.html">untie</a> <span class="i">$scalar</span></code>

would do nothing if the last thing assigned to the scalar was a glob
(because it treated it as <code class="inline"><a class="l_k" href="functions/untie.html">untie</a> <span class="i">*$scalar</span></code>
, which unties a handle).
Assignment to a glob slot (e.g., <code class="inline"><span class="s">(</span><span class="i">*$glob</span><span class="s">)</span> = \<span class="i">@some_array</span></code>
) would simply
assign <code class="inline">\<span class="i">@some_array</span></code>
 to <code class="inline"><span class="i">$glob</span></code>
.</p>
<p>To fix this, the <code class="inline"><span class="i">*</span>{}</code>
 operator (including the <code class="inline"><span class="i">*foo</span></code>
 and <code class="inline"><span class="i">*$foo</span></code>
 forms)
has been modified to make a new immutable glob if its operand is a glob
copy. Various operators that make a distinction between globs and scalars
have been modified to treat only immutable globs as globs.</p>
<p>This causes an incompatible change in code that assigns a glob to the
return value of <code class="inline"><span class="i">*</span>{}</code>
 when that operator was passed a glob copy. Take the
following code, for instance:</p>
<pre class="verbatim"><ol><li>    <span class="i">$glob</span> = <span class="i">*foo</span><span class="sc">;</span></li><li>    <span class="i">*$glob</span> = <span class="i">*bar</span><span class="sc">;</span></li></ol></pre><p>The <code class="inline"><span class="i">*$glob</span></code>
 on the second line returns a new immutable glob. That new
glob is made an alias to <code class="inline"><span class="i">*bar</span></code>
. Then it is discarded. So the second
assignment has no effect.</p>
<p>It also means that <code class="inline"><a class="l_k" href="functions/tie.html">tie</a> <span class="i">$handle</span></code>
 will now tie <code class="inline"><span class="i">$handle</span></code>
 as a scalar, even
if it has had a glob assigned to it.</p>
<p>The upside to this incompatible change is that bugs
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=77496">[perl #77496]</a>,
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=77502">[perl #77502]</a>,
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=77508">[perl #77508]</a>,
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=77688">[perl #77688]</a>,
and
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=77812">[perl #77812]</a>,
and maybe others, too, have been fixed.</p>
<p>See <a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=77810">http://rt.perl.org/rt3/Public/Bug/Display.html?id=77810</a> for even
more detail.</p>
<a name="Clearing-stashes"></a><h2>Clearing stashes</h2>
<p>Stash list assignment <code class="inline"><span class="i">%foo::</span> = <span class="s">(</span><span class="s">)</span></code>
 used to make the stash anonymous
temporarily while it was being emptied. Consequently, any of its
subroutines referenced elsewhere would become anonymous (showing up as
"(unknown)" in <code class="inline"><a class="l_k" href="functions/caller.html">caller</a></code>). Now they retain their package names, such that
<code class="inline"><a class="l_k" href="functions/caller.html">caller</a></code> will return the original sub name if there is still a reference
to its typeglob, or "foo::__ANON__" otherwise
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=79208">[perl #79208]</a>.</p>
<a name="Deprecations"></a><h1>Deprecations</h1>
<a name="%5cN%7bBELL%7d-is-deprecated"></a><h2><code class="inline">\<span class="i">N</span><span class="s">{</span><span class="w">BELL</span><span class="s">}</span></code>
 is deprecated</h2>
<p>This is because Unicode is using that name for a different character.
See <a href="#Unicode-Version-6.0-is-now-supported-(mostly)">Unicode Version 6.0 is now supported (mostly)</a> for more
explanation.</p>
<a name="Performance-Enhancements"></a><h1>Performance Enhancements</h1>
<ul>
<li>
<p>When an object has many weak references to it, freeing that object
can under some some circumstances take O(N^2) time to free (where N is the
number of references). The number of circumstances has been reduced.
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=75254">[perl #75254]</a>.</p>
</li>
</ul>
<a name="Modules-and-Pragmata"></a><h1>Modules and Pragmata</h1>
<a name="New-Modules-and-Pragmata"></a><h2>New Modules and Pragmata</h2>
<ul>
<li>
<p>The following modules were added by the <code class="inline"><span class="w">Unicode::Collate</span></code>
 
upgrade from 0.63 to 0.67. See below for details.</p>
<p><code class="inline"><span class="w">Unicode::Collate::CJK::Big5</span></code>
</p>
<p><code class="inline"><span class="w">Unicode::Collate::CJK::GB2312</span></code>
</p>
<p><code class="inline"><span class="w">Unicode::Collate::CJK::JISX0208</span></code>
</p>
<p><code class="inline"><span class="w">Unicode::Collate::CJK::Korean</span></code>
</p>
<p><code class="inline"><span class="w">Unicode::Collate::CJK::Pinyin</span></code>
</p>
<p><code class="inline"><span class="w">Unicode::Collate::CJK::Stroke</span></code>
</p>
</li>
</ul>
<a name="Updated-Modules-and-Pragmata"></a><h2>Updated Modules and Pragmata</h2>
<ul>
<li>
<p><code class="inline"><span class="w">Archive::Extract</span></code>
 has been upgraded from 0.44 to 0.46</p>
<p>Resolves an issue with NetBSD-current and its new unzip 
executable.</p>
</li>
<li>
<p><code class="inline"><span class="w">Archive::Tar</span></code>
 has been upgraded from 1.68 to 1.72</p>
<p>This adds the ptargrep utility for using regular expressions against 
the contents of files in a tar archive.</p>
</li>
<li>
<p><code class="inline"><span class="w">B</span></code>
 has been upgraded from 1.24 to 1.26.</p>
<p>It no longer crashes when taking apart a <code class="inline"><a class="l_k" href="functions/y.html">y///</a></code> containing characters
outside the octet range or compiled in a <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">utf8</span></code>
 scope.</p>
<p>The size of the shared object has been reduced by about 40%, with no
reduction in functionality.</p>
</li>
<li>
<p><code class="inline"><span class="w">B::Deparse</span></code>
 has been upgraded from 0.99 to 1.01.</p>
<p>It fixes deparsing of <code class="inline"><a class="l_k" href="functions/our.html">our</a></code> followed by a variable with funny characters
(as permitted under the <code class="inline"><span class="w">utf8</span></code>
 pragma)
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=33752">[perl #33752]</a>.</p>
</li>
<li>
<p><code class="inline"><span class="w">CGI</span></code>
 has been upgraded from 3.49 to 3.50</p>
<p>This provides the following security fixes: the MIME boundary in 
multipart_init is now random and improvements to the handling of 
newlines embedded in header values.</p>
<p>The documentation for param_fetch() has been corrected and clarified.</p>
</li>
<li>
<p><code class="inline"><span class="w">CPAN</span></code>
 has been upgraded from 1.94_61 to 1.94_62</p>
</li>
<li>
<p><code class="inline"><span class="w">CPANPLUS</span></code>
 has been upgraded from 0.9007 to 0.9010</p>
<p>Fixes for the SQLite source engine and resolving of issues with the
testsuite when run under local::lib and/or cpanminus</p>
</li>
<li>
<p><code class="inline"><span class="w">CPANPLUS::Dist::Build</span></code>
 has been upgraded from 0.48 to 0.50</p>
</li>
<li>
<p><code class="inline"><span class="w">Data::Dumper</span></code>
 has been upgraded from 2.129 to 2.130_01.</p>
</li>
<li>
<p><code class="inline"><span class="w">DynaLoader</span></code>
 has been upgraded from 1.10 to 1.11.</p>
<p>It fixes a buffer overflow when passed a very long file name.</p>
</li>
<li>
<p><code class="inline"><span class="w">ExtUtils::Constant</span></code>
 has been upgraded from 0.22 to 0.23.</p>
<p>The <code class="inline"><a class="l_k" href="functions/AUTOLOAD.html">AUTOLOAD</a></code> helper code generated by <code class="inline"><span class="w">ExtUtils::Constant::ProxySubs</span></code>

can now <code class="inline"><span class="w">croak</span></code>
 for missing constants, or generate a complete <code class="inline"><a class="l_k" href="functions/AUTOLOAD.html">AUTOLOAD</a></code>
subroutine in XS, allowing simplification of many modules that use it.
(<code class="inline"><span class="w">Fcntl</span></code>
, <code class="inline"><span class="w">File::Glob</span></code>
, <code class="inline"><span class="w">GDBM_File</span></code>
, <code class="inline"><span class="w">I18N::Langinfo</span></code>
, <code class="inline"><span class="w">POSIX</span></code>
, <code class="inline"><span class="w">Socket</span></code>
)</p>
<p><code class="inline"><span class="w">ExtUtils::Constant::ProxySubs</span></code>
 can now optionally push the names of all
constants onto the package's C{@EXPORT_OK}. This has been used to replace
less space-efficient code in <code class="inline"><span class="w">B</span></code>
, helping considerably shrink the size of its
shared object.</p>
</li>
<li>
<p><code class="inline"><span class="w">Fcntl</span></code>
 has been upgraded from 1.09 to 1.10.</p>
</li>
<li>
<p><code class="inline"><span class="w">File::Fetch</span></code>
 has been upgraded from 0.24 to 0.28</p>
<p><code class="inline"><span class="w">HTTP::Lite</span></code>
 is now supported for 'http' scheme.</p>
<p>The <code class="inline"><span class="w">fetch</span></code>
 utility is supported on FreeBSD, NetBSD and
Dragonfly BSD for the <code class="inline"><span class="w">http</span></code>
 and <code class="inline"><span class="w">ftp</span></code>
 schemes.</p>
</li>
<li>
<p><code class="inline"><span class="w">File::Glob</span></code>
 has been upgraded from 1.09 to 1.10.</p>
</li>
<li>
<p><code class="inline"><span class="w">File::stat</span></code>
 has been upgraded from 1.03 to 1.04.</p>
<p>The <code class="inline">-x</code>
 and <code class="inline"><a class="l_k" href="functions/-X.html">-X</a></code> file test operators now work correctly under the root
user.</p>
</li>
<li>
<p><code class="inline"><span class="w">GDBM_File</span></code>
 has been upgraded from 1.11 to 1.12.</p>
<p>This fixes a memory leak when DBM filters are used.</p>
</li>
<li>
<p><code class="inline"><span class="w">Hash::Util</span></code>
 has been upgraded from 0.09 to 0.10.</p>
</li>
<li>
<p><code class="inline"><span class="w">Hash::Util::FieldHash</span></code>
 has been upgraded from 1.05 to 1.06.</p>
</li>
<li>
<p><code class="inline"><span class="w">I18N::Langinfo</span></code>
 has been upgraded from 0.06 to 0.07.</p>
</li>
<li>
<p><code class="inline"><span class="w">Locale::Maketext</span></code>
 has been upgraded from 1.16 to 1.17.</p>
</li>
<li>
<p><code class="inline"><span class="w">Math::BigInt</span></code>
 has been upgraded from 1.97 to 1.99_01.</p>
</li>
<li>
<p><code class="inline"><span class="w">Math::BigRat</span></code>
 has been upgraded from 0.26 to 0.26_01</p>
</li>
<li>
<p><code class="inline"><span class="w">Math::BigInt::FastCalc</span></code>
 has been upgraded from 0.22 to 0.24_01.</p>
</li>
<li>
<p><code class="inline"><span class="w">MIME::Base64</span></code>
 has been upgraded from 3.09 to 3.10</p>
<p>Includes new functions to calculate the length of encoded and decoded
base64 strings.</p>
</li>
<li>
<p><code class="inline"><span class="w">mro</span></code>
 has been upgraded from 1.04 to 1.05.</p>
</li>
<li>
<p><code class="inline"><span class="w">NDBM_File</span></code>
 has been upgraded from 1.09 to 1.10.</p>
<p>This fixes a memory leak when DBM filters are used.</p>
</li>
<li>
<p><code class="inline"><span class="w">ODBM_File</span></code>
 has been upgraded from 1.08 to 1.09.</p>
<p>This fixes a memory leak when DBM filters are used.</p>
</li>
<li>
<p><code class="inline"><span class="w">Opcode</span></code>
 has been upgraded from 1.16 to 1.17.</p>
</li>
<li>
<p><code class="inline"><span class="w">parent</span></code>
 has been upgraded from 0.223 to 0.224</p>
</li>
<li>
<p><code class="inline"><span class="w">Pod::Simple</span></code>
 has been upgraded from 3.14 to 3.15</p>
<p>Includes various fixes to <code class="inline"><span class="w">HTML</span></code>
 and <code class="inline"><span class="w">XHTML</span></code>
 handling.</p>
</li>
<li>
<p><code class="inline"><span class="w">POSIX</span></code>
 has been upgraded from 1.21 to 1.22.</p>
</li>
<li>
<p><code class="inline"><span class="w">re</span></code>
 has been upgraded from 0.13 to 0.14, for the sake of the new
<code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">re</span> <span class="q">&quot;/flags&quot;</span></code>
 pragma.</p>
</li>
<li>
<p><code class="inline"><span class="w">Safe</span></code>
 has been upgraded from 2.28 to 2.29.</p>
<p>It adds <code class="inline"><span class="i">&amp;version::vxs::VCMP</span></code>
 to the default share.</p>
</li>
<li>
<p><code class="inline"><span class="w">SDBM_File</span></code>
 has been upgraded from 1.07 to 1.08.</p>
</li>
<li>
<p><code class="inline"><span class="w">SelfLoader</span></code>
 has been upgraded from 1.17 to 1.18.</p>
<p>It now works in taint mode
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=72062">[perl #72062]</a>.</p>
</li>
<li>
<p><code class="inline"><span class="w">Socket</span></code>
 has been upgraded from 1.90 to 1.91.</p>
</li>
<li>
<p><code class="inline"><span class="w">Storable</span></code>
 has been upgraded from 2.22 to 2.24</p>
<p>Includes performance improvement for overloaded classes.</p>
</li>
<li>
<p><code class="inline"><span class="w">Sys::Hostname</span></code>
 has been upgraded from 1.13 to 1.14.</p>
</li>
<li>
<p><code class="inline"><span class="w">Unicode::Collate</span></code>
 has been upgraded from 0.63 to 0.67</p>
<p>This release newly adds locales <code class="inline"><span class="w">ja</span></code>
 <code class="inline"><span class="w">ko</span></code>
 and <code class="inline"><span class="w">zh</span></code>
 and its variants 
( <code class="inline"><span class="w">zh__big5han</span></code>
, <code class="inline"><span class="w">zh__gb2312han</span></code>
, <code class="inline"><span class="w">zh__pinyin</span></code>
, <code class="inline"><span class="w">zh__stroke</span></code>
 ).</p>
<p>Supported UCA_Version 22 for Unicode 6.0.0.</p>
<p>The following modules have been added:</p>
<p><code class="inline"><span class="w">Unicode::Collate::CJK::Big5</span></code>
 for <code class="inline"><span class="w">zh__big5han</span></code>
 which makes 
tailoring of CJK Unified Ideographs in the order of CLDR's big5han ordering.</p>
<p><code class="inline"><span class="w">Unicode::Collate::CJK::GB2312</span></code>
 for <code class="inline"><span class="w">zh__gb2312han</span></code>
 which makes
tailoring of CJK Unified Ideographs in the order of CLDR's gb2312han ordering.</p>
<p><code class="inline"><span class="w">Unicode::Collate::CJK::JISX0208</span></code>
 which makes tailoring of 6355 kanji 
(CJK Unified Ideographs) in the JIS X 0208 order.</p>
<p><code class="inline"><span class="w">Unicode::Collate::CJK::Korean</span></code>
 which makes tailoring of CJK Unified Ideographs 
in the order of CLDR's Korean ordering.</p>
<p><code class="inline"><span class="w">Unicode::Collate::CJK::Pinyin</span></code>
 for <code class="inline"><span class="w">zh__pinyin</span></code>
 which makes
tailoring of CJK Unified Ideographs in the order of CLDR's pinyin ordering.</p>
<p><code class="inline"><span class="w">Unicode::Collate::CJK::Stroke</span></code>
 for <code class="inline"><span class="w">zh__stroke</span></code>
 which makes
tailoring of CJK Unified Ideographs in the order of CLDR's stroke ordering.</p>
</li>
</ul>
<a name="Documentation"></a><h1>Documentation</h1>
<p><a href="perlvar.html">perlvar</a> reorders the variables and groups them by topic. Each variable
introduced after Perl 5.000 notes the first version in which it is 
available. <a href="perlvar.html">perlvar</a> also has a new section for deprecated variables to
note when they were removed.</p>
<a name="New-Documentation"></a><h2>New Documentation</h2>
<a name="the-perlpodstyle-manpage"></a><h3><a href="perlpodstyle.html">perlpodstyle</a></h3>
<p>New style guide for POD documentation,
split mostly from the NOTES section of the pod2man man page.</p>
<p>( This was added to <code class="inline"><span class="v">v5.13.6</span></code>
 but was not documented with that release ).</p>
<a name="Changes-to-Existing-Documentation"></a><h2>Changes to Existing Documentation</h2>
<ul>
<li>
<p>Array and hash slices in scalar context are now documented in <a href="perldata.html">perldata</a>.</p>
</li>
<li>
<p><a href="perlform.html">perlform</a> and <a href="perllocale.html">perllocale</a> have been corrected to state that
<code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">locale</span></code>
 affects formats.</p>
</li>
</ul>
<a name="Diagnostics"></a><h1>Diagnostics</h1>
<a name="New-Diagnostics"></a><h2>New Diagnostics</h2>
<ul>
<li>
<p>"Using !~ with %s doesn't make sense": This message was actually added in
5.13.2, but was omitted from perldelta. It now applies also to the <code class="inline"><a class="l_k" href="functions/y.html">y///</a></code>
operator, and has been documented.</p>
</li>
</ul>
<a name="Utility-Changes"></a><h1>Utility Changes</h1>
<a name="the-ptargrep-manpage"></a><h3><a href="http://search.cpan.org/perldoc/ptargrep">ptargrep</a></h3>
<ul>
<li>
<p><a href="http://search.cpan.org/perldoc/ptargrep">ptargrep</a> is a utility to apply pattern matching to the contents of files 
in a tar archive. It comes with <code class="inline"><span class="w">Archive::Tar</span></code>
.</p>
</li>
</ul>
<a name="Testing"></a><h1>Testing</h1>
<ul>
<li>
<p>The new <i>t/mro/isa_aliases.t</i> has been added, which tests that
<code class="inline"><span class="i">*Foo::ISA</span> = <span class="i">*Bar::ISA</span></code>
 works properly.</p>
</li>
<li>
<p><i>t/mro/isarev.t</i> has been added, which tests that <code class="inline"><span class="w">PL_isarev</span></code>
 (accessible
at the Perl level via <code class="inline"><span class="w">mro::get_isarev</span></code>
) is updated properly.</p>
</li>
<li>
<p><i>t/run/switchd-78586.t</i> has been added, which tests that
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=78586">[perl #78586]</a>
has been fixed (related to line numbers in the debugger).</p>
</li>
</ul>
<a name="Platform-Support"></a><h1>Platform Support</h1>
<a name="Platform-Specific-Notes"></a><h2>Platform-Specific Notes</h2>
<ul>
<li><a name="Windows"></a><b>Windows</b>
<p>Directory handles are now properly cloned when threads are created. In perl
5.13.6, child threads simply stopped inheriting directory handles. In
previous versions, threads would share handles, resulting in crashes.</p>
<p>Support for building with Visual C++ 2010 is now underway, but is not yet
complete. See <i>README.win32</i> for more details.</p>
</li>
<li><a name="VMS"></a><b>VMS</b>
<p>Record-oriented files (record format variable or variable with fixed control)
opened for write by the perlio layer will now be line buffered to prevent the
introduction of spurious line breaks whenever the perlio buffer fills up.</p>
</li>
</ul>
<a name="Internal-Changes"></a><h1>Internal Changes</h1>
<ul>
<li>
<p><code class="inline"><span class="w">lex_start</span></code>
 has been added to the API, but is considered experimental.</p>
</li>
<li>
<p>A new <code class="inline"><span class="w">parse_block</span></code>
 function has been added to the API
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=78222">[perl #78222]</a>.</p>
</li>
<li>
<p>A new, experimental API has been added for accessing the internal
structure that Perl uses for <code class="inline"><span class="i">%^H</span></code>
. See the functions beginning with
<code class="inline"><span class="w">cophh_</span></code>
 in <a href="perlapi.html">perlapi</a>.</p>
</li>
<li>
<p>A stash can now have a list of effective names in addition to its usual
name. The first effective name can be accessed via the <code class="inline"><span class="w">HvENAME</span></code>
 macro,
which is now the recommended name to use in MRO linearisations (<code class="inline"><span class="w">HvNAME</span></code>

being a fallback if there is no <code class="inline"><span class="w">HvENAME</span></code>
).</p>
<p>These names are added and deleted via <code class="inline"><span class="w">hv_ename_add</span></code>
 and
<code class="inline"><span class="w">hv_ename_delete</span></code>
. These two functions are <i>not</i> part of the API.</p>
</li>
<li>
<p>The way the parser handles labels has been cleaned up and refactored. As a
result, the <code class="inline"><span class="i">newFOROP</span><span class="s">(</span><span class="s">)</span></code>
 constructor function no longer takes a parameter
stating what label is to go in the state op.</p>
</li>
<li>
<p>The <code class="inline"><span class="i">newWHILEOP</span><span class="s">(</span><span class="s">)</span></code>
 and <code class="inline"><span class="i">newFOROP</span><span class="s">(</span><span class="s">)</span></code>
 functions no longer accept a line
number as a parameter.</p>
</li>
<li>
<p>A new <code class="inline"><span class="i">parse_barestmt</span><span class="s">(</span><span class="s">)</span></code>
 function has been added, for parsing a statement
without a label.</p>
</li>
<li>
<p>A new <code class="inline"><span class="i">parse_label</span><span class="s">(</span><span class="s">)</span></code>
 function has been added, that parses a statement
label, separate from statements.</p>
</li>
<li>
<p>The <code class="inline"><span class="i">CvSTASH</span><span class="s">(</span><span class="s">)</span></code>
 macro can now only be used as an rvalue. <code class="inline"><span class="i">CvSTASH_set</span><span class="s">(</span><span class="s">)</span></code>

has been added to replace assignment to <code class="inline"><span class="i">CvSTASH</span><span class="s">(</span><span class="s">)</span></code>
. This is to ensure
that backreferences are handled properly. These macros are not part of the
API.</p>
</li>
<li>
<p>The <code class="inline"><span class="i">op_scope</span><span class="s">(</span><span class="s">)</span></code>
 and <code class="inline"><span class="i">op_lvalue</span><span class="s">(</span><span class="s">)</span></code>
 functions have been added to the API,
but are considered experimental.</p>
</li>
</ul>
<a name="Selected-Bug-Fixes"></a><h1>Selected Bug Fixes</h1>
<ul>
<li>
<p>The <code class="inline"><span class="w">parse_stmt</span></code>
 C function added in earlier in the 5.13.x series has been
fixed to work with statements ending with <code class="inline"><span class="s">}</span></code>

<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=78222">[perl #78222]</a>.</p>
</li>
<li>
<p>The <code class="inline"><span class="w">parse_fullstmt</span></code>
 C function added in 5.13.5 has been fixed to work
when called while an expression is being parsed.</p>
</li>
<li>
<p>Characters in the Latin-1 non-ASCII range (0x80 to 0xFF) used not to match
themselves if the string happened to be UTF8-encoded internally, the
regular expression was not, and the character in the regular expression was
inside a repeated group (e.g.,
<code class="inline"><span class="i">Encode::decode_utf8</span><span class="s">(</span><span class="q">&quot;\303\200&quot;</span><span class="s">)</span> =~ <span class="q">/(\xc0)+/</span></code>
)
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=78464">[perl #78464]</a>.</p>
</li>
<li>
<p>The <code class="inline"><span class="s">(</span><span class="q">?d)</span></code>
 regular expression construct now overrides a previous <code class="inline"><span class="s">(</span><span class="q">?u)</span></code>

or <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">feature</span> <span class="q">&quot;unicode_string&quot;</span></code>

<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=78508">[perl #78508]</a>.</p>
</li>
<li>
<p>A memory leak in <code class="inline"><a class="l_k" href="functions/do.html">do</a> <span class="q">&quot;file&quot;</span></code>
, introduced in perl 5.13.6, has been fixed
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=78488">[perl #78488]</a>.</p>
</li>
<li>
<p>Various bugs related to typeglob dereferencing have been fixed. See
<a href="#Dereferencing-typeglobs">Dereferencing typeglobs</a>, above.</p>
</li>
<li>
<p>The <code class="inline"><span class="w">SvPVbyte</span></code>
 function available to XS modules now calls magic before
downgrading the SV, to avoid warnings about wide characters
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=72398">[perl #72398]</a>.</p>
</li>
<li>
<p>The <code class="inline">=</code>
 operator used to ignore magic (e.g., tie methods) on its
right-hand side if the scalar happened to hold a typeglob. This could
happen if a typeglob was the last thing returned from or assigned to a tied
scalar
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=77498">[perl #77498]</a>.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/sprintf.html">sprintf</a></code> was ignoring locales when called with constant arguments
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=78632">[perl #78632]</a>.</p>
</li>
<li>
<p>A non-ASCII character in the Latin-1 range could match both a Posix
class, such as <code class="inline"><span class="s">[</span><span class="s">[</span><span class="co">:</span><span class="w">alnum</span><span class="co">:</span><span class="s">]</span><span class="s">]</span></code>
, and its inverse <code class="inline"><span class="s">[</span><span class="s">[</span><span class="co">:</span>^<span class="w">alnum</span><span class="co">:</span><span class="s">]</span><span class="s">]</span></code>
.  This is
now fixed for regular expressions compiled under the <code class="inline"><span class="q">&quot;u&quot;</span></code>
 modifier.
See <a href="#use-feature-%22unicode_strings%22-now-applies-to-more-regex-matching">use feature unicode_strings now applies to more regex matching</a>.
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=18281">[perl #18281]</a>.</p>
</li>
<li>
<p>Concatenating long strings under <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">encoding</span></code>
 no longer causes perl to
crash
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=78674">[perl #78674]</a>.</p>
</li>
<li>
<p>Typeglob assignments would crash if the glob's stash no longer existed, so
long as the glob assigned to was named 'ISA' or the glob on either side of
the assignment contained a subroutine.</p>
</li>
<li>
<p>Calling <code class="inline"><span class="i">-&gt;import</span></code>
 on a class lacking an import method could corrupt
the stack, resulting in strange behaviour. For instance,</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="functions/push.html">push</a> <span class="i">@a</span><span class="cm">,</span> <span class="q">&quot;foo&quot;</span><span class="cm">,</span> <span class="i">$b</span> = <span class="w">bar</span><span class="w">-&gt;import</span><span class="sc">;</span></li></ol></pre><p>would assign 'foo' to <code class="inline"><span class="i">$b</span></code>

<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=63790">[perl #63790]</a>.</p>
</li>
<li>
<p>Creating an alias to a package when that package had been detached from the
symbol table would result in corrupted isa caches
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=77358">[perl #77358]</a>.</p>
</li>
<li>
<p><code class="inline">.=</code>
 followed by <code class="inline">&lt;&gt;</code>
 or <code class="inline"><a class="l_k" href="functions/readline.html">readline</a></code> would leak memory if <code class="inline"><span class="i">$/</span></code>

contained characters beyond the octet range and the scalar assigned to
happened to be encoded as UTF8 internally
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=72246">[perl #72246]</a>.</p>
</li>
<li>
<p>The <code class="inline"><a class="l_k" href="functions/recv.html">recv</a></code> function could crash when called with the MSG_TRUNC flag
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=75082">[perl #75082]</a>.</p>
</li>
<li>
<p>Evaluating a simple glob (like <code class="inline"><span class="i">*a</span></code>
) was calling get-magic on the glob,
even when its contents were not being used
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=78580">[perl #78580]</a>.</p>
<p>This bug was introduced in 5.13.2 and did not affect earlier perl versions.</p>
</li>
<li>
<p>Matching a Unicode character against an alternation containing characters
that happened to match continuation bytes in the former's UTF8
representation (<code class="inline"><span class="q">qq{\x{30ab}}</span> =~ <span class="q">/\xab|\xa9/</span></code>
) would cause erroneous
warnings
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=70998">[perl #70998]</a>.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/s.html">s///r</a></code> (added in 5.13.2) no longer leaks.</p>
</li>
<li>
<p>The trie optimisation was not taking empty groups into account, preventing
'foo' from matching <code class="inline"><span class="q">/\A(?:(?:)foo|bar|zot)\z/</span></code>

<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=78356">[perl #78356]</a>.</p>
</li>
<li>
<p>A pattern containing a <code class="inline">+</code>
 inside a lookahead would sometimes cause an
incorrect match failure in a global match (e.g., <code class="inline"><span class="q">/(?=(\S+))/g</span></code>
)
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=68564">[perl #68564]</a>.</p>
</li>
<li>
<p>Iterating with <code class="inline"><a class="l_k" href="functions/foreach.html">foreach</a></code> over an array returned by an lvalue sub now works
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=23790">[perl #23790]</a>.</p>
</li>
<li>
<p><code class="inline"><span class="i">$@</span></code>
 is now localised during calls to <code class="inline"><a class="l_k" href="functions/binmode.html">binmode</a></code> to prevent action at a
distance
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=78844">[perl #78844]</a>.</p>
</li>
<li>
<p><code class="inline"><span class="w">PL_isarev</span></code>
, which is accessible to Perl via <code class="inline"><span class="w">mro::get_isarev</span></code>
 is now
updated properly when packages are deleted or removed from the <code class="inline"><span class="i">@ISA</span></code>
 of
other classes. This allows many packages to be created and deleted without
causing a memory leak
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=75176">[perl #75176]</a>.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/undef.html">undef</a> <span class="i">*Foo::</span></code>
 and <code class="inline"><a class="l_k" href="functions/undef.html">undef</a> <span class="i">*Foo::ISA</span></code>
 and <code class="inline"><a class="l_k" href="functions/delete.html">delete</a> <span class="i">$package::</span>{<span class="w">ISA</span>}</code>

used not to update the internal isa caches if the
stash or <code class="inline"><span class="i">@ISA</span></code>
 array had a reference elsewhere. In
fact, <code class="inline"><a class="l_k" href="functions/undef.html">undef</a> <span class="i">*Foo::ISA</span></code>
 would stop a new <code class="inline"><span class="i">@Foo::ISA</span></code>
 array from updating
caches.</p>
</li>
<li>
<p><code class="inline"><span class="i">@ISA</span></code>
 arrays can now be shared between classes via
<code class="inline"><span class="i">*Foo::ISA</span> = \<span class="i">@Bar::ISA</span></code>
 or <code class="inline"><span class="i">*Foo::ISA</span> = <span class="i">*Bar::ISA</span></code>

<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=77238">[perl #77238]</a>.</p>
</li>
<li>
<p>The parser no longer hangs when encountering certain Unicode characters,
such as U+387
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=74022">[perl #74022]</a>.</p>
</li>
<li>
<p><code class="inline"><a class="l_k" href="functions/formline.html">formline</a></code> no longer crashes when passed a tainted format picture. It also
taints <code class="inline"><span class="i">$^A</span></code>
 now if its arguments are tainted
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=79138">[perl #79138]</a>.</p>
</li>
<li>
<p>A signal handler called within a signal handler could cause leaks or
double-frees. Now fixed.
<a href="http://rt.perl.org/rt3/Public/Bug/Display.html?id=76248">[perl #76248]</a>.</p>
</li>
<li>
<p>When trying to report <code class="inline"><span class="w">Use</span> <span class="w">of</span> <span class="w">uninitialized</span> <span class="w">value</span> <span class="i">$Foo::BAR</span></code>
, crashes could
occur if the GLOB of the global variable causing the warning has been detached
from its original stash by, for example <code class="inline"><a class="l_k" href="functions/delete.html">delete</a> <span class="i">$::</span>{<span class="q">&#39;Foo::&#39;</span>}</code>
. This has been
fixed by disabling the reporting of variable names in the warning in those
cases.</p>
</li>
</ul>
<a name="Obituary"></a><h1>Obituary</h1>
<p>Randy Kobes, creator of the kobesearch alternative to search.cpan.org and
contributor/maintainer to several core Perl toolchain modules, passed away
on September 18, 2010 after a battle with lung cancer.  His contributions
to the Perl community will be missed.</p>
<a name="Acknowledgements"></a><h1>Acknowledgements</h1>
<p>Perl 5.13.7 represents approximately one month of development since Perl 5.13.6
and contains 73100 lines of changes across 518 files from 39 authors and committers:</p>
<p>Abhijit Menon-Sen, Abigail, Ben Morrow, Chas. J. Owens IV, Chris 'BinGOs' Williams, Craig A. Berry,
David Golden, David Mitchell, Father Chrysostomos, Fingle Nark, Florian Ragwitz, George Greer,
Grant McLean, H.Merijn Brand, Ian Goodacre, Jan Dubois, Jerry D. Hedden, Jesse Vincent, Karl Williamson,
Lubomir Rintel, Marty Pauley, Moritz Lenz, Nicholas Clark, Nicolas Kaiser, Niko Tyni, Peter John Acklam,
Rafael Garcia-Suarez, Shlomi Fish, Steffen Mueller, Steve Hay, Tatsuhiko Miyagawa, Tim Bunce, Todd Rinaldo,
Tom Christiansen, Tom Hukins, Tony Cook, Yves Orton, Zefram and brian d foy</p>
<p>Many of the changes included in this version originated in the CPAN modules included in
Perl's core. We're grateful to the entire CPAN community for helping Perl to flourish.</p>
<a name="Reporting-Bugs"></a><h1>Reporting Bugs</h1>
<p>If you find what you think is a bug, you might check the articles
recently posted to the comp.lang.perl.misc newsgroup and the perl
bug database at <a href="http://rt.perl.org/perlbug/">http://rt.perl.org/perlbug/</a> .  There may also be
information at <a href="http://www.perl.org/">http://www.perl.org/</a> , the Perl Home Page.</p>
<p>If you believe you have an unreported bug, please run the <b>perlbug</b>
program included with your release.  Be sure to trim your bug down
to a tiny but sufficient test case.  Your bug report, along with the
output of <code class="inline"><span class="w">perl</span> -<span class="w">V</span></code>
, will be sent off to perlbug@perl.org to be
analysed by the Perl porting team.</p>
<p>If the bug you are reporting has security implications, which make it
inappropriate to send to a publicly archived mailing list, then please send
it to perl5-security-report@perl.org. This points to a closed subscription
unarchived mailing list, which includes all the core committers, who be able
to help assess the impact of issues, figure out a resolution, and help
co-ordinate the release of patches to mitigate or fix the problem across all
platforms on which Perl is supported. Please only use this address for
security issues in the Perl core, not for modules independently
distributed on CPAN.</p>
<a name="SEE-ALSO"></a><h1>SEE ALSO</h1>
<p>The <i>Changes</i> file for an explanation of how to view exhaustive details
on what changed.</p>
<p>The <i>INSTALL</i> file for how to build Perl.</p>
<p>The <i>README</i> file for general stuff.</p>
<p>The <i>Artistic</i> and <i>Copying</i> files for copyright information.</p>




  <div id="page_index" class="hud_container">
    <div id="page_index_header" class="hud_header">
      <div id="page_index_close" class="hud_close"><a href="#" onClick="pageIndex.hide();return false;"></a></div>
      <div id="page_index_title" class="hud_title"><span class="hud_span_top">Page index</span></div>
      <div id="page_index_topright" class="hud_topright"></div>
    </div>
    <div id="page_index_content" class="hud_content">
      <ul><li><a href="#NAME">NAME</a><li><a href="#DESCRIPTION">DESCRIPTION</a><li><a href="#Core-Enhancements">Core Enhancements</a><ul><li><a href="#Single-term-prototype">Single term prototype</a><li><a href="#use-re-'%2fflags'%3b">use re '/flags';</a><li><a href="#Statement-labels-can-appear-in-more-places">Statement labels can appear in more places</a><li><a href="#use-feature-%22unicode_strings%22-now-applies-to-more-regex-matching">use feature "unicode_strings" now applies to more regex matching</a><li><a href="#Array-and-hash-container-functions-accept-references">Array and hash container functions accept references</a><li><a href="#y%2f%2f%2fr">y///r</a><li><a href="#New-global-variable-%24%7b%5eGLOBAL_PHASE%7d">New global variable ${^GLOBAL_PHASE}</a><li><a href="#Unicode-Version-6.0-is-now-supported-(mostly)">Unicode Version 6.0 is now supported (mostly)</a><li><a href="#Improved-support-for-custom-OPs">Improved support for custom OPs</a></ul><li><a href="#Incompatible-Changes">Incompatible Changes</a><ul><li><a href="#Dereferencing-typeglobs">Dereferencing typeglobs</a><li><a href="#Clearing-stashes">Clearing stashes</a></ul><li><a href="#Deprecations">Deprecations</a><ul><li><a href="#%5cN%7bBELL%7d-is-deprecated">\N{BELL} is deprecated</a></ul><li><a href="#Performance-Enhancements">Performance Enhancements</a><li><a href="#Modules-and-Pragmata">Modules and Pragmata</a><ul><li><a href="#New-Modules-and-Pragmata">New Modules and Pragmata</a><li><a href="#Updated-Modules-and-Pragmata">Updated Modules and Pragmata</a></ul><li><a href="#Documentation">Documentation</a><ul><li><a href="#New-Documentation">New Documentation</a><li><a href="#Changes-to-Existing-Documentation">Changes to Existing Documentation</a></ul><li><a href="#Diagnostics">Diagnostics</a><ul><li><a href="#New-Diagnostics">New Diagnostics</a></ul><li><a href="#Utility-Changes">Utility Changes</a><li><a href="#Testing">Testing</a><li><a href="#Platform-Support">Platform Support</a><ul><li><a href="#Platform-Specific-Notes">Platform-Specific Notes</a></ul><li><a href="#Internal-Changes">Internal Changes</a><li><a href="#Selected-Bug-Fixes">Selected Bug Fixes</a><li><a href="#Obituary">Obituary</a><li><a href="#Acknowledgements">Acknowledgements</a><li><a href="#Reporting-Bugs">Reporting Bugs</a><li><a href="#SEE-ALSO">SEE ALSO</a></ul>
    </div>
    <div id="page_index_footer" class="hud_footer">
      <div id="page_index_bottomleft" class="hud_bottomleft"></div>
      <div id="page_index_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
      <div id="page_index_resize" class="hud_resize"></div>
    </div>
  </div>


                </div>
              </article>
        </div>        
      </main>
    </div>
    <footer class="footer row bg-light pt-5 pb-5">
      <div class="col-sm-8 offset-sm-2">
        <div class="row">
          <div class="col-md-4">
            <ul class="list-unstyled">
              <li>
                <h4>Site info</h4>
              </li>
              <li>Site mantained by
                <a href="mailto:community@opusvl.com"><img class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo"></a>
              </li>
              <li>Docs mantained by
                <a href="//lists.cpan.org/showlist.cgi?name=perl5-porters" rel="noopener">Perl 5 Porters</a>
              </li>
              <li>Development supported by
                <a href="//opusvl.com" rel="noopener">OpusVL</a>
              </li>
            </ul>
          </div>
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Manual</h4>
                  </li>
                  <li>
                    <a href="/5/14/2/index-overview.html">Overview</a>
                  </li>
                  <li>
                    <a href="/5/14/2/index-tutorials.html">Tutorials</a>
                  </li>
                  <li>
                    <a href="/5/14/2/index-faq.html">FAQs</a>
                  </li>
                  <li>
                    <a href="/5/14/2/index-history.html">Changes</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Reference</h4>
                  </li>
                  <li>
                    <a href="/5/14/2/index-language.html">Language</a>
                  </li>
                  <li>
                    <a href="/5/14/2/index-functions.html">Functions</a>
                  </li>
                  <li>
                    <a href="/5/14/2/perlop.html">Operators</a>
                  </li>
                  <li>
                    <a href="/5/14/2/perlvar.html">Variables</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Modules</h4>
                  </li>
                  <li>
                    <a href="/5/14/2/index-modules-A.html">Modules</a>
                  </li>
                  <li>
                    <a href="/5/14/2/index-pragmas.html">Pragmas</a>
                  </li>
                  <li>
                    <a href="/5/14/2/index-utilities.html">Utilities</a>
                  </li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-3">
                <ul class=" list-unstyled">
                  <li>
                    <h4>Misc</h4>
                  </li>
                  <li>
                    <a href="/5/14/2/index-licence.html">License</a>
                  </li>
                  <li>
                    <a href="/5/14/2/index-internals.html">Internals</a>
                  </li>
                  <li>
                    <a href="/5/14/2/index-platforms.html">Platforms</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class=" col-12 footer-inf text-center">
            <small>perldoc.perl.org - Official documentation for the Perl programming language</small>
          </div>
        </div>
      </div>
    </footer>
    <script src="/public/js/main.min.js"></script>
  </body>
</html>
